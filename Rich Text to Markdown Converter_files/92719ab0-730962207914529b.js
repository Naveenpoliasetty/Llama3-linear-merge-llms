"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[701],{2629:function(e,t,r){r.d(t,{$KD:function(){return isDefined},$Rk:function(){return focusEditor},ASL:function(){return useElementProps},AyJ:function(){return useComposedRef},CBv:function(){return isUrl},CET:function(){return useEditorRef},DYv:function(){return findNode},Kd8:function(){return isEndPoint},Kul:function(){return usePlateSelection},LKm:function(){return unwrapNodes},MTn:function(){return h.MT},MkB:function(){return getNode},TUE:function(){return mockPlugin},TvR:function(){return createComponentAs},VcW:function(){return insertElements},Vi9:function(){return isStartPoint},X9_:function(){return createElementAs},Ys:function(){return select},ZJ1:function(){return getEndPoint},Zg$:function(){return getAboveNode},bbC:function(){return getPluginType},bjX:function(){return getNextNodeStartPoint},blY:function(){return getRangeBefore},dGq:function(){return mergeProps},eNq:function(){return getEditorString},els:function(){return getPreviousNodeEndPoint},fLV:function(){return setNodes},gzs:function(){return splitNodes},jks:function(){return isRangeAcrossBlocks},kKo:function(){return isElement},kRc:function(){return withoutNormalizing},lB7:function(){return collapseSelection},lMF:function(){return getPluginOptions},lrJ:function(){return toDOMRange},n2N:function(){return getRangeFromBlockStart},nCz:function(){return usePlateSelectors},oUB:function(){return setElements},plg:function(){return getStartPoint},qEX:function(){return wrapNodes},qcw:function(){return getNodeString},r4l:function(){return removeNodes},s2K:function(){return insertNodes},t$X:function(){return useOnClickOutside},uET:function(){return getNodeProps},ulk:function(){return isExpanded},wEB:function(){return replaceNodeChildren},xje:function(){return createPluginFactory},y1X:function(){return y.y1},zbr:function(){return isCollapsed},zic:function(){return getNodeLeaf},zwG:function(){return someNode}});var n,o,a,i,s,c,l,u,f=r(24),d=r(7294),p=r(9251),y=r(9218),h=r(4762),g=r(7645),b=r(7493),v=r(1465);let capitalizeFirstLetter=(e="")=>e.length?e[0].toUpperCase()+e.slice(1):"",getStoreIndex=(e="")=>e.length?`${e}Store`:"store",getUseStoreIndex=(e="")=>`use${capitalizeFirstLetter(e)}Store`,createAtomStore=(e,{scope:t,initialStore:r,name:n=""}={})=>{let o=getUseStoreIndex(null==r?void 0:r.name),a=getStoreIndex(null==r?void 0:r.name),i=getUseStoreIndex(n),s=getStoreIndex(n),c=r?r[o]().get:{},l=r?r[o]().set:{},u=r?r[o]().use:{},d=r?r[a].atom:{};Object.keys(e).forEach(r=>{let n=(0,f.cn)(e[r]);d[r]=n,c[r]=e=>(0,f.Dv)(n,null!=e?e:t),l[r]=e=>(0,f.b9)(n,null!=e?e:t),u[r]=e=>(0,f.KO)(n,null!=e?e:t)});let p={[i]:e=>{if(e){let r={...c},n={...l},o={...u};return Object.keys(r).forEach(n=>{let o=r[n];r[n]=r=>{var n;return o(null!==(n=null!=r?r:e)&&void 0!==n?n:t)}}),Object.keys(n).forEach(r=>{let o=n[r];n[r]=r=>{var n;return o(null!==(n=null!=r?r:e)&&void 0!==n?n:t)}}),Object.keys(o).forEach(r=>{let n=o[r];o[r]=r=>{var o;return n(null!==(o=null!=r?r:e)&&void 0!==o?o:t)}}),{get:r,set:n,use:o}}return{get:c,set:l,use:u}},[s]:{atom:d},name:n};return{...p,[s]:{...p[s],scope:t,extend:(e,r)=>createAtomStore(e,{scope:t,initialStore:p,...r})}}},_="undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent);var m="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var j=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});for(var IS_MAC=()=>"undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),r={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},ALIASES=()=>({add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:IS_MAC()?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"}),n={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},o=1;o<20;o++)n["f"+o]=111+o;function isHotkey(e,t,r){!t||"byKey"in t||(r=t,t=null),Array.isArray(e)||(e=[e]);var n=e.map(function(e){return parseHotkey(e,t)}),check=function(e){return n.some(function(t){return compareHotkey(t,e)})};return null==r?check:check(r)}function parseHotkey(e,t){var n=t&&t.byKey,o={},a=(e=e.replace("++","+add")).split("+"),i=a.length;for(var s in r)o[r[s]]=!1;var c=!0,l=!1,u=void 0;try{for(var f,d=a[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var p=f.value,y=p.endsWith("?")&&p.length>1;y&&(p=p.slice(0,-1));var h=toKeyName(p),g=r[h];1!==i&&g||(n?o.key=h:o.which=toKeyCode(p)),g&&(o[g]=!y||null)}}catch(e){l=!0,u=e}finally{try{!c&&d.return&&d.return()}finally{if(l)throw u}}return o}function compareHotkey(e,t){for(var r in e){var n=e[r],o=void 0;if(null!=n&&(null!=(o="key"===r&&null!=t.key?t.key.toLowerCase():"which"===r?91===n&&93===t.which?91:t.which:t[r])||!1!==n)&&o!==n)return!1}return!0}function toKeyCode(e){return n[e=toKeyName(e)]||e.toUpperCase().charCodeAt(0)}function toKeyName(e){return e=e.toLowerCase(),e=ALIASES()[e]||e}t.default=isHotkey,t.isHotkey=isHotkey,t.isCodeHotkey=function(e,t){return isHotkey(e,t)},t.isKeyHotkey=function(e,t){return isHotkey(e,{byKey:!0},t)},t.parseHotkey=parseHotkey,t.compareHotkey=compareHotkey,t.toKeyCode=toKeyCode,t.toKeyName=toKeyName});j&&j.__esModule&&Object.prototype.hasOwnProperty.call(j,"default")&&j.default,j.isHotkey,j.isCodeHotkey;var w=j.isKeyHotkey;j.parseHotkey,j.compareHotkey,j.toKeyCode,j.toKeyName;let isComposing=e=>p.F3.isComposing(e),O={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",insertSoftBreak:"shift+enter",italic:"mod+i",moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",splitBlock:"enter",tab:"tab",untab:"shift+tab",undo:"mod+z"},k={deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},A={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},create=e=>{let t=O[e],r=k[e],n=A[e],o=t&&w(t),a=r&&w(r),i=n&&w(n);return e=>!!(o&&o(e)||_&&a&&a(e)||!_&&i&&i(e))},createComposing=e=>(t,r,{composing:n}={})=>!!create(e)(r)&&!!n===isComposing(t);create("bold"),create("compose"),create("moveBackward"),create("moveForward"),create("deleteBackward"),create("deleteForward"),create("deleteLineBackward"),create("deleteLineForward"),create("deleteWordBackward"),create("deleteWordForward"),create("extendBackward"),create("extendForward"),create("extendLineBackward"),create("extendLineForward"),create("italic"),create("moveLineBackward"),create("moveLineForward"),create("moveWordBackward"),create("moveWordForward"),create("redo"),create("insertSoftBreak"),create("splitBlock"),createComposing("tab"),create("transposeCharacter"),create("undo"),createComposing("untab");let S=/^(?:\w+:)?\/\/(\S+)$/,E=/^localhost[:?\d]*(?:[^:?\d]\S*)?$/,P=/^[^\s.]+\.\S{2,}$/,isUrl=e=>{if("string"!=typeof e)return!1;let t=e.match(S);if(!t)return!1;let r=t[1];if(!r)return!1;try{new URL(e)}catch(e){return!1}return E.test(r)||P.test(r)},mergeProps=(e,t,{handlerKeys:r,handlerQuery:n=e=>0===e.indexOf("on")}={})=>{let o=new Map,a={},mapProps=e=>{e&&Object.entries(e).forEach(([e,t])=>{if((!r||r.includes(e))&&(!n||n(e))&&"function"==typeof t){var i;o.has(e)||o.set(e,[]),null===(i=o.get(e))||void 0===i||i.push(t),a[e]=(...t)=>{var r;null===(r=o.get(e))||void 0===r||r.forEach(e=>e(...t))}}else a[e]=t})};return mapProps(e),mapProps(t),a},isUndefined=e=>void 0===e,isNull=e=>null===e,isUndefinedOrNull=e=>isUndefined(e)||isNull(e),isDefined=e=>!isUndefinedOrNull(e);var _apply=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)},identity_1=function(e){return e},N=Math.max,_overRest=function(e,t,r){return t=N(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,a=N(n.length-t,0),i=Array(a);++o<a;)i[o]=n[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=n[o];return s[t]=r(i),_apply(e,this,s)}},C="object"==typeof m&&m&&m.Object===Object&&m,T="object"==typeof self&&self&&self.Object===Object&&self,L=C||T||Function("return this")(),x=L.Symbol,F=Object.prototype,M=F.hasOwnProperty,B=F.toString,D=x?x.toStringTag:void 0,_getRawTag=function(e){var t=M.call(e,D),r=e[D];try{e[D]=void 0;var n=!0}catch(e){}var o=B.call(e);return n&&(t?e[D]=r:delete e[D]),o},I=Object.prototype.toString,z=x?x.toStringTag:void 0,_baseGetTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":z&&z in Object(e)?_getRawTag(e):I.call(e)},isObject_1=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},isFunction_1=function(e){if(!isObject_1(e))return!1;var t=_baseGetTag(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},K=L["__core-js_shared__"],R=(n=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",H=Function.prototype.toString,_toSource=function(e){if(null!=e){try{return H.call(e)}catch(e){}try{return e+""}catch(e){}}return""},U=/^\[object .+?Constructor\]$/,q=Object.prototype,$=Function.prototype.toString,V=q.hasOwnProperty,W=RegExp("^"+$.call(V).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_getNative=function(e,t){var r,n=null==e?void 0:e[t];return isObject_1(r=n)&&(!R||!(R in r))&&(isFunction_1(r)?W:U).test(_toSource(r))?n:void 0},G=function(){try{var e=_getNative(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Y=G?function(e,t){return G(e,"toString",{configurable:!0,enumerable:!1,value:function(){return t},writable:!0})}:identity_1,X=Date.now,Q=(o=0,a=0,function(){var e=X(),t=16-(e-a);if(a=e,t>0){if(++o>=800)return arguments[0]}else o=0;return Y.apply(void 0,arguments)}),_baseRest=function(e,t){return Q(_overRest(e,t,identity_1),e+"")},eq_1=function(e,t){return e===t||e!=e&&t!=t},_assocIndexOf=function(e,t){for(var r=e.length;r--;)if(eq_1(e[r][0],t))return r;return -1},J=Array.prototype.splice;function ListCache(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ListCache.prototype.clear=function(){this.__data__=[],this.size=0},ListCache.prototype.delete=function(e){var t=this.__data__,r=_assocIndexOf(t,e);return!(r<0)&&(r==t.length-1?t.pop():J.call(t,r,1),--this.size,!0)},ListCache.prototype.get=function(e){var t=this.__data__,r=_assocIndexOf(t,e);return r<0?void 0:t[r][1]},ListCache.prototype.has=function(e){return _assocIndexOf(this.__data__,e)>-1},ListCache.prototype.set=function(e,t){var r=this.__data__,n=_assocIndexOf(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};var Z=_getNative(L,"Map"),ee=_getNative(Object,"create"),et=Object.prototype.hasOwnProperty,er=Object.prototype.hasOwnProperty;function Hash(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Hash.prototype.clear=function(){this.__data__=ee?ee(null):{},this.size=0},Hash.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hash.prototype.get=function(e){var t=this.__data__;if(ee){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return et.call(t,e)?t[e]:void 0},Hash.prototype.has=function(e){var t=this.__data__;return ee?void 0!==t[e]:er.call(t,e)},Hash.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ee&&void 0===t?"__lodash_hash_undefined__":t,this};var _isKeyable=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},_getMapData=function(e,t){var r=e.__data__;return _isKeyable(t)?r["string"==typeof t?"string":"hash"]:r.map};function MapCache(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Stack(e){var t=this.__data__=new ListCache(e);this.size=t.size}MapCache.prototype.clear=function(){this.size=0,this.__data__={hash:new Hash,map:new(Z||ListCache),string:new Hash}},MapCache.prototype.delete=function(e){var t=_getMapData(this,e).delete(e);return this.size-=t?1:0,t},MapCache.prototype.get=function(e){return _getMapData(this,e).get(e)},MapCache.prototype.has=function(e){return _getMapData(this,e).has(e)},MapCache.prototype.set=function(e,t){var r=_getMapData(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Stack.prototype.clear=function(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Stack.prototype.get=function(e){return this.__data__.get(e)},Stack.prototype.has=function(e){return this.__data__.has(e)},Stack.prototype.set=function(e,t){var r=this.__data__;if(r instanceof ListCache){var n=r.__data__;if(!Z||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new MapCache(n)}return r.set(e,t),this.size=r.size,this};var _baseAssignValue=function(e,t,r){"__proto__"==t&&G?G(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},_assignMergeValue=function(e,t,r){(void 0===r||eq_1(e[t],r))&&(void 0!==r||t in e)||_baseAssignValue(e,t,r)},_baseFor=function(e,t,r){for(var n=-1,o=Object(e),a=r(e),i=a.length;i--;){var s=a[++n];if(!1===t(o[s],s,o))break}return e},en=createCommonjsModule(function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,o=n&&n.exports===r?L.Buffer:void 0,a=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=a?a(r):new e.constructor(r);return e.copy(n),n}}),eo=L.Uint8Array,_cloneArrayBuffer=function(e){var t=new e.constructor(e.byteLength);return new eo(t).set(new eo(e)),t},_cloneTypedArray=function(e,t){var r=t?_cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)},_copyArray=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t},ea=Object.create,ei=function(){function object(){}return function(e){if(!isObject_1(e))return{};if(ea)return ea(e);object.prototype=e;var t=new object;return object.prototype=void 0,t}}(),_overArg=function(e,t){return function(r){return e(t(r))}},es=_overArg(Object.getPrototypeOf,Object),ec=Object.prototype,_isPrototype=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ec)},_initCloneObject=function(e){return"function"!=typeof e.constructor||_isPrototype(e)?{}:ei(es(e))},isObjectLike_1=function(e){return null!=e&&"object"==typeof e},_baseIsArguments=function(e){return isObjectLike_1(e)&&"[object Arguments]"==_baseGetTag(e)},el=Object.prototype,eu=el.hasOwnProperty,ef=el.propertyIsEnumerable,ed=_baseIsArguments(function(){return arguments}())?_baseIsArguments:function(e){return isObjectLike_1(e)&&eu.call(e,"callee")&&!ef.call(e,"callee")},ep=Array.isArray,isLength_1=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},isArrayLike_1=function(e){return null!=e&&isLength_1(e.length)&&!isFunction_1(e)},stubFalse_1=function(){return!1},ey=createCommonjsModule(function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,o=n&&n.exports===r?L.Buffer:void 0,a=o?o.isBuffer:void 0;e.exports=a||stubFalse_1}),eh=Object.prototype,eg=Function.prototype.toString,eb=eh.hasOwnProperty,ev=eg.call(Object),isPlainObject_1=function(e){if(!isObjectLike_1(e)||"[object Object]"!=_baseGetTag(e))return!1;var t=es(e);if(null===t)return!0;var r=eb.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&eg.call(r)==ev},e_={};e_["[object Float32Array]"]=e_["[object Float64Array]"]=e_["[object Int8Array]"]=e_["[object Int16Array]"]=e_["[object Int32Array]"]=e_["[object Uint8Array]"]=e_["[object Uint8ClampedArray]"]=e_["[object Uint16Array]"]=e_["[object Uint32Array]"]=!0,e_["[object Arguments]"]=e_["[object Array]"]=e_["[object ArrayBuffer]"]=e_["[object Boolean]"]=e_["[object DataView]"]=e_["[object Date]"]=e_["[object Error]"]=e_["[object Function]"]=e_["[object Map]"]=e_["[object Number]"]=e_["[object Object]"]=e_["[object RegExp]"]=e_["[object Set]"]=e_["[object String]"]=e_["[object WeakMap]"]=!1;var _baseUnary=function(e){return function(t){return e(t)}},em=createCommonjsModule(function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,o=n&&n.exports===r&&C.process,a=function(){try{var e=n&&n.require&&n.require("util").types;if(e)return e;return o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=a}),ej=em&&em.isTypedArray,ew=ej?_baseUnary(ej):function(e){return isObjectLike_1(e)&&isLength_1(e.length)&&!!e_[_baseGetTag(e)]},_safeGet=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},eO=Object.prototype.hasOwnProperty,_assignValue=function(e,t,r){var n=e[t];eO.call(e,t)&&eq_1(n,r)&&(void 0!==r||t in e)||_baseAssignValue(e,t,r)},_copyObject=function(e,t,r,n){var o=!r;r||(r={});for(var a=-1,i=t.length;++a<i;){var s=t[a],c=n?n(r[s],e[s],s,r,e):void 0;void 0===c&&(c=e[s]),o?_baseAssignValue(r,s,c):_assignValue(r,s,c)}return r},_baseTimes=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n},ek=/^(?:0|[1-9]\d*)$/,_isIndex=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&ek.test(e))&&e>-1&&e%1==0&&e<t},eA=Object.prototype.hasOwnProperty,_arrayLikeKeys=function(e,t){var r=ep(e),n=!r&&ed(e),o=!r&&!n&&ey(e),a=!r&&!n&&!o&&ew(e),i=r||n||o||a,s=i?_baseTimes(e.length,String):[],c=s.length;for(var l in e)(t||eA.call(e,l))&&!(i&&("length"==l||o&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||_isIndex(l,c)))&&s.push(l);return s},_nativeKeysIn=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t},eS=Object.prototype.hasOwnProperty,_baseKeysIn=function(e){if(!isObject_1(e))return _nativeKeysIn(e);var t=_isPrototype(e),r=[];for(var n in e)"constructor"==n&&(t||!eS.call(e,n))||r.push(n);return r},keysIn_1=function(e){return isArrayLike_1(e)?_arrayLikeKeys(e,!0):_baseKeysIn(e)},_baseMergeDeep=function(e,t,r,n,o,a,i){var s=_safeGet(e,r),c=_safeGet(t,r),l=i.get(c);if(l){_assignMergeValue(e,r,l);return}var u=a?a(s,c,r+"",e,t,i):void 0,f=void 0===u;if(f){var d=ep(c),p=!d&&ey(c),y=!d&&!p&&ew(c);(u=c,d||p||y)?ep(s)?u=s:isObjectLike_1(s)&&isArrayLike_1(s)?u=_copyArray(s):p?(f=!1,u=en(c,!0)):y?(f=!1,u=_cloneTypedArray(c,!0)):u=[]:isPlainObject_1(c)||ed(c)?(u=s,ed(s))?u=_copyObject(s,keysIn_1(s)):(!isObject_1(s)||isFunction_1(s))&&(u=_initCloneObject(c)):f=!1}f&&(i.set(c,u),o(u,c,n,a,i),i.delete(c)),_assignMergeValue(e,r,u)},_baseMerge=function baseMerge(e,t,r,n,o){e!==t&&_baseFor(t,function(a,i){if(o||(o=new Stack),isObject_1(a))_baseMergeDeep(e,t,i,r,baseMerge,n,o);else{var s=n?n(_safeGet(e,i),a,i+"",e,t,o):void 0;void 0===s&&(s=a),_assignMergeValue(e,i,s)}},keysIn_1)},_customDefaultsMerge=function customDefaultsMerge(e,t,r,n,o,a){return isObject_1(e)&&isObject_1(t)&&(a.set(t,e),_baseMerge(e,t,void 0,customDefaultsMerge,a),a.delete(t)),e},_isIterateeCall=function(e,t,r){if(!isObject_1(r))return!1;var n=typeof t;return("number"==n?!!(isArrayLike_1(r)&&_isIndex(t,r.length)):"string"==n&&t in r)&&eq_1(r[t],e)},_createAssigner=function(e){return _baseRest(function(t,r){var n=-1,o=r.length,a=o>1?r[o-1]:void 0,i=o>2?r[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,i&&_isIterateeCall(r[0],r[1],i)&&(a=o<3?void 0:a,o=1),t=Object(t);++n<o;){var s=r[n];s&&e(t,s,n,a)}return t})},eE=_createAssigner(function(e,t,r,n){_baseMerge(e,t,r,n)}),eP=_baseRest(function(e){return e.push(void 0,_customDefaultsMerge),_apply(eE,void 0,e)});let overridePluginsByKey=(e,t={},r)=>{var n;if(t[e.key]){let{plugins:n,then:o,...a}=t[e.key];e=eP(a,e),r||null==n||n.forEach(t=>{e.plugins||(e.plugins=[]);let r=e.plugins.find(e=>e.key===t.key);r||e.plugins.push(t)})}e.plugins&&(e.plugins=e.plugins.map(e=>overridePluginsByKey(e,t,!0)));let{then:o}=e;return o?e.then=(r,n)=>{let a={key:e.key,...o(r,n)};return eP(overridePluginsByKey(a,t),a)}:null!==(n=t[e.key])&&void 0!==n&&n.then&&(e.then=t[e.key].then),e},createPluginFactory=e=>(t,r={})=>(r[e.key]=t,overridePluginsByKey({...e},r));createPluginFactory({key:"deserializeAst",editor:{insertData:{format:"application/x-slate-fragment",getFragment:({data:e})=>{let t=decodeURIComponent(window.atob(e));return JSON.parse(t)}}}});let eN=(0,h.MT)("event-editor")({blur:null,focus:null,last:null}),eC=eN.set,eT=eN.get;eN.use,createPluginFactory({key:"event-editor",handlers:{onFocus:e=>()=>{eC.focus(e.id)},onBlur:e=>()=>{let t=eT.focus();t===e.id&&eC.focus(null),eC.blur(e.id)}}}),createPluginFactory({key:"history",withOverrides:e=>(0,g.VC)(e)}),createPluginFactory({key:"inline-void",withOverrides:e=>{let{isInline:t}=e,{isVoid:r}=e,n=[],o=[];return e.plugins.forEach(e=>{e.isInline&&n.push(e.type),e.isVoid&&o.push(e.type)}),e.isInline=e=>!!n.includes(e.type)||t(e),e.isVoid=e=>!!o.includes(e.type)||r(e),e}});let getInjectedPlugins=(e,t)=>{let r=[];return[...e.plugins].reverse().forEach(e=>{var n;let o=null===(n=e.inject.pluginsByKey)||void 0===n?void 0:n[t.key];o&&r.push(o)}),[t,...r]},pipeInsertDataQuery=(e,{data:t,dataTransfer:r})=>e.every(e=>{var n,o;let a=null===(n=e.editor)||void 0===n?void 0:null===(o=n.insertData)||void 0===o?void 0:o.query;return!a||a({data:t,dataTransfer:r})}),withoutNormalizing=(e,t)=>{let r=!1;return b.ML.withoutNormalizing(e,()=>{r=!!t()}),r},pipeInsertFragment=(e,t,{fragment:r,...n})=>{withoutNormalizing(e,()=>{t.some(e=>{var t,o,a;return(null===(t=e.editor)||void 0===t?void 0:null===(o=t.insertData)||void 0===o?void 0:null===(a=o.preInsert)||void 0===a?void 0:a.call(o,r,n))===!0}),e.insertFragment(r)})},pipeTransformData=(e,{data:t,dataTransfer:r})=>(e.forEach(e=>{var n,o;let a=null===(n=e.editor)||void 0===n?void 0:null===(o=n.insertData)||void 0===o?void 0:o.transformData;a&&(t=a(t,{dataTransfer:r}))}),t),pipeTransformFragment=(e,{fragment:t,...r})=>(e.forEach(e=>{var n,o;let a=null===(n=e.editor)||void 0===n?void 0:null===(o=n.insertData)||void 0===o?void 0:o.transformFragment;a&&(t=a(t,r))}),t);createPluginFactory({key:"insertData",withOverrides:e=>{let{insertData:t}=e;return e.insertData=r=>{let n=[...e.plugins].reverse().some(t=>{var n;let o=t.editor.insertData;if(!o)return!1;let a=getInjectedPlugins(e,t),{format:i,getFragment:s}=o;if(!i)return!1;let c=r.getData(i);if(!c)return;if(!pipeInsertDataQuery(a,{data:c,dataTransfer:r}))return!1;c=pipeTransformData(a,{data:c,dataTransfer:r});let l=null==s?void 0:s({data:c,dataTransfer:r});return null!==(n=l)&&void 0!==n&&!!n.length&&!!(l=pipeTransformFragment(a,{fragment:l,data:c,dataTransfer:r})).length&&(pipeInsertFragment(e,a,{fragment:l,data:c,dataTransfer:r}),!0)});n||t(r)},e}}),createPluginFactory({key:"nodeFactory",withOverrides:e=>(e.blockFactory=t=>({type:getPluginType(e,"p"),children:[{text:""}],...t}),e.childrenFactory=()=>[e.blockFactory()],e)}),createPluginFactory({key:"react",withOverrides:e=>(0,p.BU)(e)});let isElement=e=>b.W_.isElement(e),isText=e=>b.xv.isText(e),getPluginsByKey=e=>{var t;return null!==(t=null==e?void 0:e.pluginsByKey)&&void 0!==t?t:{}},getPlugin=(e,t)=>{var r;return null!==(r=getPluginsByKey(e)[t])&&void 0!==r?r:{key:t}},getPluginType=(e,t)=>{var r,n;return null!==(r=null!==(n=getPlugin(e,t).type)&&void 0!==n?n:t)&&void 0!==r?r:""},isInlineNode=e=>t=>isText(t)||isElement(t)&&e.isInline(t),makeBlockLazy=e=>()=>({type:e,children:[]}),hasDifferentChildNodes=(e,t)=>e.some((e,r,n)=>{let o=n[r-1];return 0!==r&&t(e)!==t(o)}),normalizeDifferentNodeTypes=(e,t,r)=>{let n=hasDifferentChildNodes(e,t),{fragment:o}=e.reduce((e,o)=>{if(n&&t(o)){let t=e.precedingBlock;t||(t=r(),e.precedingBlock=t,e.fragment.push(t)),t.children.push(o)}else e.fragment.push(o),e.precedingBlock=null;return e},{fragment:[],precedingBlock:null});return o},normalizeEmptyChildren=e=>e.length?e:[{text:""}],normalize=(e,t,r)=>e=(e=normalizeDifferentNodeTypes(e=normalizeEmptyChildren(e),t,r)).map(e=>isElement(e)?{...e,children:normalize(e.children,t,r)}:e),normalizeDescendantsToDocumentFragment=(e,{descendants:t})=>{let r=isInlineNode(e),n=getPluginType(e,"p"),o=makeBlockLazy(n);return normalize(t,r,o)};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function isObject(e){return"[object Object]"===Object.prototype.toString.call(e)}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var eL=new WeakMap,ex=new WeakMap;let Token=class Token{};let AnchorToken=class AnchorToken extends Token{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super();var{offset:t,path:r}=e;this.offset=t,this.path=r}};let FocusToken=class FocusToken extends Token{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super();var{offset:t,path:r}=e;this.offset=t,this.path=r}};var addAnchorToken=(e,t)=>{var r=e.text.length;eL.set(e,[r,t])},getAnchorOffset=e=>eL.get(e),addFocusToken=(e,t)=>{var r=e.text.length;ex.set(e,[r,t])},getFocusOffset=e=>ex.get(e);function ownKeys$1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread$1(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$1(Object(r),!0).forEach(function(t){_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$1(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var eF=new WeakSet,resolveDescendants=e=>{var t=[],addChild=e=>{if(null!=e){var r=t[t.length-1];if("string"==typeof e){var n={text:e};eF.add(n),e=n}if(b.xv.isText(e)){var o=e;b.xv.isText(r)&&eF.has(r)&&eF.has(o)&&b.xv.equals(r,o,{loose:!0})?r.text+=o.text:t.push(o)}else if(b.W_.isElement(e))t.push(e);else if(e instanceof Token){var a=t[t.length-1];b.xv.isText(a)||(addChild(""),a=t[t.length-1]),e instanceof AnchorToken?addAnchorToken(a,e):e instanceof FocusToken&&addFocusToken(a,e)}else throw Error("Unexpected hyperscript child object: ".concat(e))}};for(var r of e.flat(1/0))addChild(r);return t};function createElement(e,t,r){return _objectSpread$1(_objectSpread$1({},t),{},{children:resolveDescendants(r)})}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var eM={anchor:function(e,t,r){return new AnchorToken(t)},cursor:function(e,t,r){return[new AnchorToken(t),new FocusToken(t)]},editor:(i=b.Jh,(e,t,r)=>{var n,o=[];for(var a of r)b.e6.isRange(a)?n=a:o.push(a);var s=resolveDescendants(o),c={},l=i();for(var[u,f]of(Object.assign(l,t),l.children=s,b.NB.texts(l))){var d=getAnchorOffset(u),p=getFocusOffset(u);if(null!=d){var[y]=d;c.anchor={path:f,offset:y}}if(null!=p){var[h]=p;c.focus={path:f,offset:h}}}if(c.anchor&&!c.focus)throw Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<anchor />`. For collapsed selections, use `<cursor />` instead.");if(!c.anchor&&c.focus)throw Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<focus />`. For collapsed selections, use `<cursor />` instead.");return null!=n?l.selection=n:b.e6.isRange(c)&&(l.selection=c),l}),element:createElement,focus:function(e,t,r){return new FocusToken(t)},fragment:function(e,t,r){return resolveDescendants(r)},selection:function(e,t,r){var n=r.find(e=>e instanceof AnchorToken),o=r.find(e=>e instanceof FocusToken);if(!n||null==n.offset||null==n.path)throw Error("The <selection> hyperscript tag must have an <anchor> tag as a child with `path` and `offset` attributes defined.");if(!o||null==o.offset||null==o.path)throw Error("The <selection> hyperscript tag must have a <focus> tag as a child with `path` and `offset` attributes defined.");return _objectSpread$1({anchor:{offset:n.offset,path:n.path},focus:{offset:o.offset,path:o.path}},t)},text:function(e,t,r){var n=resolveDescendants(r);if(n.length>1)throw Error("The <text> hyperscript tag must only contain a single node's worth of children.");var[o]=n;if(null==o&&(o={text:""}),!b.xv.isText(o))throw Error("\n    The <text> hyperscript tag can only contain text content as children.");return eF.delete(o),Object.assign(o,t),o}},createFactory=e=>function(t,r){for(var n,o,a,i=arguments.length,s=Array(i>2?i-2:0),c=2;c<i;c++)s[c-2]=arguments[c];var l=e[t];if(!l)throw Error("No hyperscript creator found for tag: <".concat(t,">"));return null==r&&(r={}),!1!==isObject(n=r)&&(void 0===(o=n.constructor)||!1!==isObject(a=o.prototype)&&!1!==a.hasOwnProperty("isPrototypeOf"))||(s=[r].concat(s),r={}),l(t,r,s=s.filter(e=>!!e).flat())},normalizeElements=e=>{var t={};for(var r in e)!function(r){var n=e[r];if("object"!=typeof n)throw Error("Properties specified for a hyperscript shorthand should be an object, but for the custom element <".concat(r,">  tag you passed: ").concat(n));t[r]=(e,t,r)=>createElement("element",_objectSpread(_objectSpread({},n),t),r)}(r);return t},eB=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{elements:t={}}=e,r=normalizeElements(t);return createFactory(_objectSpread(_objectSpread(_objectSpread({},eM),r),e.creators))}();let deserializeHtmlNodeChildren=(e,t)=>Array.from(t.childNodes).map(deserializeHtmlNode(e)).flat(),htmlBodyToFragment=(e,t)=>{if("BODY"===t.nodeName)return eB("fragment",{},deserializeHtmlNodeChildren(e,t))},htmlBrToNewLine=e=>{if("BR"===e.nodeName)return"\n"};var castArray_1=function(){if(!arguments.length)return[];var e=arguments[0];return ep(e)?e:[e]};let pluginDeserializeHtml=(e,t,{element:r,deserializeLeaf:n})=>{var o;let{deserializeHtml:a,isElement:i,isLeaf:s,type:c}=t;if(!a)return;let{attributeNames:l,query:u,isLeaf:f,isElement:d,rules:p}=a,{getNode:y}=a,h=d||i,g=f||s;if(!n&&!h||n&&!g)return;if(p){let e=p.some(({validNodeName:e="*",validStyle:n,validClassName:o,validAttribute:a})=>{if(e){let t=castArray_1(e);if(t.length&&!t.includes(r.nodeName)&&"*"!==e)return!1}if(o&&!r.classList.contains(o))return!1;if(n)for(let[e,o]of Object.entries(n)){var i;let n=castArray_1(o);if(!n.includes(r.style[e])&&"*"!==o||"*"===o&&!r.style[e])return;let a=null===(i=t.inject.props)||void 0===i?void 0:i.defaultNodeValue;if(a&&a===r.style[e])return!1}if(a){if("string"==typeof a){if(!r.getAttributeNames().includes(a))return!1}else for(let[e,t]of Object.entries(a)){let n=castArray_1(t),o=r.getAttribute(e);if(!o||!n.includes(o))return!1}}return!0});if(!e)return}if(u&&!u(r))return;if(!y){if(h)y=()=>({type:c});else{if(!g)return;y=()=>({[c]:!0})}}let b=null!==(o=y(r,{}))&&void 0!==o?o:{};if(!Object.keys(b).length)return;let v=getInjectedPlugins(e,t);if(v.forEach(e=>{var t,n;let o=null===(t=e.deserializeHtml)||void 0===t?void 0:null===(n=t.getNode)||void 0===n?void 0:n.call(t,r,b);o&&(b={...b,...o})}),l){let e={},t=r.getAttributeNames();for(let n of t)l.includes(n)&&(e[n]=r.getAttribute(n));Object.keys(e).length&&(b.attributes=e)}return{...a,node:b}},pipeDeserializeHtmlElement=(e,t)=>{let r;return[...e.plugins].reverse().some(n=>!!(r=pluginDeserializeHtml(e,n,{element:t}))),r},htmlElementToElement=(e,t)=>{let r=pipeDeserializeHtmlElement(e,t);if(r){var n;let{node:o,withoutChildren:a}=r,i=null!==(n=o.children)&&void 0!==n?n:deserializeHtmlNodeChildren(e,t);return(!i.length||a)&&(i=[{text:""}]),eB("element",o,i)}};var eD=_createAssigner(function(e,t,r){_baseMerge(e,t,r)});let isBlock=(e,t)=>b.ML.isBlock(e,t),match=(e,t,r)=>!r||("object"==typeof r?Object.entries(r).every(([t,r])=>{let n=castArray_1(r);return n.includes(e[t])}):r(e,t)),getQueryOptions=(e,t={})=>{let{match:r,block:n}=t;return{...t,match:r||n?(t,o)=>match(t,o,r)&&(!n||isBlock(e,t)):void 0}},unhangRange=(e,t,r={})=>{let{voids:n,unhang:o=!0}=r;if(b.e6.isRange(t)&&o)return b.ML.unhangRange(e,t,{voids:n})},getNodeEntries=(e,t)=>(unhangRange(e,null==t?void 0:t.at,t),b.ML.nodes(e,getQueryOptions(e,t))),findNode=(e,t={})=>{try{let r=getNodeEntries(e,{at:e.selection||[],...getQueryOptions(e,t)});for(let[e,t]of r)return[e,t]}catch(e){return}},getAboveNode=(e,t)=>b.ML.above(e,getQueryOptions(e,t)),getBlockAbove=(e,t={})=>getAboveNode(e,{...t,block:!0}),isAncestor=e=>b.W_.isAncestor(e),getPreviousNode=(e,t)=>b.ML.previous(e,t),removeNodes=(e,t)=>b.YR.removeNodes(e,t),select=(e,t)=>{b.YR.select(e,t)},getEndPoint=(e,t)=>b.ML.end(e,t),getPointBefore=(e,t,r)=>b.ML.before(e,t,r),getStartPoint=(e,t)=>b.ML.start(e,t),getEditorString=(e,t,r)=>t?b.ML.string(e,t,r):"",getNextNode=(e,t)=>b.ML.next(e,t),getPoint=(e,t,r)=>b.ML.point(e,t,r),isEndPoint=(e,t,r)=>!!t&&b.ML.isEnd(e,t,r),isStartPoint=(e,t,r)=>!!t&&b.ML.isStart(e,t,r),getNode=(e,t)=>{try{for(let r=0;r<t.length;r++){let n=t[r];if(isText(e)||!e.children[n])return null;e=e.children[n]}return e}catch(e){return null}},getNodeChildren=(e,t,r)=>b.NB.children(e,t,r),getNodeLeaf=(e,t)=>b.NB.leaf(e,t),getNodeProps=e=>b.NB.extractProps(e),getNodeString=e=>b.NB.string(e),isCollapsed=e=>!!e&&b.e6.isCollapsed(e),isExpanded=e=>!!e&&b.e6.isExpanded(e),collapseSelection=(e,t)=>{b.YR.collapse(e,t)},deselect=e=>{b.YR.deselect(e)},insertNodes=(e,t,r)=>b.YR.insertNodes(e,t,r),setNodes=(e,t,r)=>b.YR.setNodes(e,t,r),splitNodes=(e,t)=>b.YR.splitNodes(e,t),unwrapNodes=(e,t)=>{b.YR.unwrapNodes(e,getQueryOptions(e,t))},wrapNodes=(e,t,r)=>{unhangRange(e,null==r?void 0:r.at,r),b.YR.wrapNodes(e,t,r)},focusEditor=(e,t)=>{t&&withoutNormalizing(e,()=>{deselect(e),select(e,t)}),p.F3.focus(e)},toDOMRange=(e,t)=>{try{return p.F3.toDOMRange(e,t)}catch(e){}},getNextNodeStartPoint=(e,t)=>{let r=getNextNode(e,{at:t});if(r)return getStartPoint(e,r[1])};var _arrayMap=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o};function SetCache(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new MapCache;++t<r;)this.add(e[t])}SetCache.prototype.add=SetCache.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},SetCache.prototype.has=function(e){return this.__data__.has(e)};var _arraySome=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1},_equalArrays=function(e,t,r,n,o,a){var i=1&r,s=e.length,c=t.length;if(s!=c&&!(i&&c>s))return!1;var l=a.get(e),u=a.get(t);if(l&&u)return l==t&&u==e;var f=-1,d=!0,p=2&r?new SetCache:void 0;for(a.set(e,t),a.set(t,e);++f<s;){var y=e[f],h=t[f];if(n)var g=i?n(h,y,f,t,e,a):n(y,h,f,e,t,a);if(void 0!==g){if(g)continue;d=!1;break}if(p){if(!_arraySome(t,function(e,t){if(!p.has(t)&&(y===e||o(y,e,r,n,a)))return p.push(t)})){d=!1;break}}else if(!(y===h||o(y,h,r,n,a))){d=!1;break}}return a.delete(e),a.delete(t),d},_mapToArray=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r},_setToArray=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r},eI=x?x.prototype:void 0,ez=eI?eI.valueOf:void 0,_equalByTag=function(e,t,r,n,o,a,i){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!a(new eo(e),new eo(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return eq_1(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=_mapToArray;case"[object Set]":var c=1&n;if(s||(s=_setToArray),e.size!=t.size&&!c)break;var l=i.get(e);if(l)return l==t;n|=2,i.set(e,t);var u=_equalArrays(s(e),s(t),n,o,a,i);return i.delete(e),u;case"[object Symbol]":if(ez)return ez.call(e)==ez.call(t)}return!1},_arrayPush=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e},_baseGetAllKeys=function(e,t,r){var n=t(e);return ep(e)?n:_arrayPush(n,r(e))},_arrayFilter=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,a=[];++r<n;){var i=e[r];t(i,r,e)&&(a[o++]=i)}return a},stubArray_1=function(){return[]},eK=Object.prototype.propertyIsEnumerable,eR=Object.getOwnPropertySymbols,eH=eR?function(e){return null==e?[]:_arrayFilter(eR(e=Object(e)),function(t){return eK.call(e,t)})}:stubArray_1,eU=_overArg(Object.keys,Object),eq=Object.prototype.hasOwnProperty,_baseKeys=function(e){if(!_isPrototype(e))return eU(e);var t=[];for(var r in Object(e))eq.call(e,r)&&"constructor"!=r&&t.push(r);return t},keys_1=function(e){return isArrayLike_1(e)?_arrayLikeKeys(e):_baseKeys(e)},_getAllKeys=function(e){return _baseGetAllKeys(e,keys_1,eH)},e$=Object.prototype.hasOwnProperty,_equalObjects=function(e,t,r,n,o,a){var i=1&r,s=_getAllKeys(e),c=s.length;if(c!=_getAllKeys(t).length&&!i)return!1;for(var l=c;l--;){var u=s[l];if(!(i?u in t:e$.call(t,u)))return!1}var f=a.get(e),d=a.get(t);if(f&&d)return f==t&&d==e;var p=!0;a.set(e,t),a.set(t,e);for(var y=i;++l<c;){var h=e[u=s[l]],g=t[u];if(n)var b=i?n(g,h,u,t,e,a):n(h,g,u,e,t,a);if(!(void 0===b?h===g||o(h,g,r,n,a):b)){p=!1;break}y||(y="constructor"==u)}if(p&&!y){var v=e.constructor,_=t.constructor;v!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof _&&_ instanceof _)&&(p=!1)}return a.delete(e),a.delete(t),p},eV=_getNative(L,"DataView"),eW=_getNative(L,"Promise"),eG=_getNative(L,"Set"),eY=_getNative(L,"WeakMap"),eX="[object Map]",eQ="[object Promise]",eJ="[object Set]",eZ="[object WeakMap]",e1="[object DataView]",e0=_toSource(eV),e2=_toSource(Z),e9=_toSource(eW),e3=_toSource(eG),e6=_toSource(eY),e4=_baseGetTag;(eV&&e4(new eV(new ArrayBuffer(1)))!=e1||Z&&e4(new Z)!=eX||eW&&e4(eW.resolve())!=eQ||eG&&e4(new eG)!=eJ||eY&&e4(new eY)!=eZ)&&(e4=function(e){var t=_baseGetTag(e),r="[object Object]"==t?e.constructor:void 0,n=r?_toSource(r):"";if(n)switch(n){case e0:return e1;case e2:return eX;case e9:return eQ;case e3:return eJ;case e6:return eZ}return t});var e8=e4,e7="[object Arguments]",e5="[object Array]",te="[object Object]",tt=Object.prototype.hasOwnProperty,_baseIsEqualDeep=function(e,t,r,n,o,a){var i=ep(e),s=ep(t),c=i?e5:e8(e),l=s?e5:e8(t);c=c==e7?te:c,l=l==e7?te:l;var u=c==te,f=l==te,d=c==l;if(d&&ey(e)){if(!ey(t))return!1;i=!0,u=!1}if(d&&!u)return a||(a=new Stack),i||ew(e)?_equalArrays(e,t,r,n,o,a):_equalByTag(e,t,c,r,n,o,a);if(!(1&r)){var p=u&&tt.call(e,"__wrapped__"),y=f&&tt.call(t,"__wrapped__");if(p||y){var h=p?e.value():e,g=y?t.value():t;return a||(a=new Stack),o(h,g,r,n,a)}}return!!d&&(a||(a=new Stack),_equalObjects(e,t,r,n,o,a))},_baseIsEqual=function baseIsEqual(e,t,r,n,o){return e===t||(null!=e&&null!=t&&(isObjectLike_1(e)||isObjectLike_1(t))?_baseIsEqualDeep(e,t,r,n,baseIsEqual,o):e!=e&&t!=t)},_baseIsMatch=function(e,t,r,n){var o=r.length,a=o,i=!n;if(null==e)return!a;for(e=Object(e);o--;){var s=r[o];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<a;){var c=(s=r[o])[0],l=e[c],u=s[1];if(i&&s[2]){if(void 0===l&&!(c in e))return!1}else{var f=new Stack;if(n)var d=n(l,u,c,e,t,f);if(!(void 0===d?_baseIsEqual(u,l,3,n,f):d))return!1}}return!0},_isStrictComparable=function(e){return e==e&&!isObject_1(e)},_getMatchData=function(e){for(var t=keys_1(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,_isStrictComparable(o)]}return t},_matchesStrictComparable=function(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}},_baseMatches=function(e){var t=_getMatchData(e);return 1==t.length&&t[0][2]?_matchesStrictComparable(t[0][0],t[0][1]):function(r){return r===e||_baseIsMatch(r,e,t)}},isSymbol_1=function(e){return"symbol"==typeof e||isObjectLike_1(e)&&"[object Symbol]"==_baseGetTag(e)},tr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tn=/^\w*$/,_isKey=function(e,t){if(ep(e))return!1;var r=typeof e;return!!("number"==r||"symbol"==r||"boolean"==r||null==e||isSymbol_1(e))||tn.test(e)||!tr.test(e)||null!=t&&e in Object(t)};function memoize(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var memoized=function(){var r=arguments,n=t?t.apply(this,r):r[0],o=memoized.cache;if(o.has(n))return o.get(n);var a=e.apply(this,r);return memoized.cache=o.set(n,a)||o,a};return memoized.cache=new(memoize.Cache||MapCache),memoized}memoize.Cache=MapCache;var to=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ta=/\\(\\)?/g,ti=(c=(s=memoize(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(to,function(e,r,n,o){t.push(n?o.replace(ta,"$1"):r||e)}),t},function(e){return 500===c.size&&c.clear(),e})).cache,s),ts=1/0,tc=x?x.prototype:void 0,tl=tc?tc.toString:void 0,_baseToString=function baseToString(e){if("string"==typeof e)return e;if(ep(e))return _arrayMap(e,baseToString)+"";if(isSymbol_1(e))return tl?tl.call(e):"";var t=e+"";return"0"==t&&1/e==-ts?"-0":t},_castPath=function(e,t){return ep(e)?e:_isKey(e,t)?[e]:ti(null==e?"":_baseToString(e))},tu=1/0,_toKey=function(e){if("string"==typeof e||isSymbol_1(e))return e;var t=e+"";return"0"==t&&1/e==-tu?"-0":t},_baseGet=function(e,t){t=_castPath(t,e);for(var r=0,n=t.length;null!=e&&r<n;)e=e[_toKey(t[r++])];return r&&r==n?e:void 0},get_1=function(e,t,r){var n=null==e?void 0:_baseGet(e,t);return void 0===n?r:n},_baseHasIn=function(e,t){return null!=e&&t in Object(e)},_hasPath=function(e,t,r){t=_castPath(t,e);for(var n=-1,o=t.length,a=!1;++n<o;){var i=_toKey(t[n]);if(!(a=null!=e&&r(e,i)))break;e=e[i]}return a||++n!=o?a:!!(o=null==e?0:e.length)&&isLength_1(o)&&_isIndex(i,o)&&(ep(e)||ed(e))},property_1=function(e){var t;return _isKey(e)?(t=_toKey(e),function(e){return null==e?void 0:e[t]}):function(t){return _baseGet(t,e)}},_baseIteratee=function(e){if("function"==typeof e)return e;if(null==e)return identity_1;if("object"==typeof e){var t,r;return ep(e)?(t=e[0],r=e[1],_isKey(t)&&_isStrictComparable(r)?_matchesStrictComparable(_toKey(t),r):function(e){var n=get_1(e,t);return void 0===n&&n===r?null!=e&&_hasPath(e,t,_baseHasIn):_baseIsEqual(r,n,3)}):_baseMatches(e)}return property_1(e)},baseEach=function(e,t){if(null==e)return e;if(!isArrayLike_1(e))return e&&_baseFor(e,t,keys_1);for(var r=e.length,n=l?r:-1,o=Object(e);(l?n--:++n<r)&&!1!==t(o[n],n,o););return e},_baseMap=function(e,t){var r=-1,n=isArrayLike_1(e)?Array(e.length):[];return baseEach(e,function(e,o,a){n[++r]=t(e,o,a)}),n};let isRangeAcrossBlocks=(e,{at:t,...r}={})=>{if(t||(t=e.selection),!t)return;let[n,o]=b.e6.edges(t),a=getBlockAbove(e,{at:n,...r}),i=getBlockAbove(e,{at:o,...r});if(a||i)return!a||!i||!b.y$.equals(a[1],i[1])},getPointBeforeLocation=(e,t,r)=>{let n;if(!r||!r.match&&!r.matchString)return getPointBefore(e,t,r);let o=!r.unit||"offset"===r.unit,a=r.matchString?castArray_1(r.matchString):[""];return a.some(a=>{let i=t,s=getPoint(e,t,{edge:"end"}),c=a.length+1,l=Array(c),u=0;for(;;){var f,d,p;let y=getPointBefore(e,i,r);if(!y||isRangeAcrossBlocks(e,{at:{anchor:y,focus:s}}))return;let h=getEditorString(e,{anchor:y,focus:s}),g=h;if(o&&c&&(l.unshift({point:y,text:h}),l.pop(),g=(ep(p=l.slice(0,-1))?_arrayMap:_baseMap)(p,_baseIteratee("text")).join("")),a===g||null!==(f=r.match)&&void 0!==f&&f.call(r,{beforeString:g,beforePoint:y,at:t})){if(r.afterMatch){if(c&&o)return!!(n=null===(d=l[l.length-1])||void 0===d?void 0:d.point);return n=s,!0}return n=y,!0}if(s=y,i=y,u+=1,!r.skipInvalid&&(!a||u>=a.length))return}}),n},getPointFromLocation=(e,{at:t=e.selection,focus:r}={})=>{let n;return b.e6.isRange(t)&&(n=r?t.focus:t.anchor),b.E9.isPoint(t)&&(n=t),b.y$.isPath(t)&&(n={path:t,offset:0}),n},queryNode=(e,{filter:t,allow:r,exclude:n,level:o,maxLevel:a}={})=>{if(!e)return!1;let[i,s]=e;if(o){let e=castArray_1(o);if(!e.includes(s.length))return!1}if(a&&s.length>a||t&&!t(e))return!1;if(r){let e=castArray_1(r);if(e.length&&!e.includes(i.type))return!1}if(n){let e=castArray_1(n);if(e.length&&e.includes(i.type))return!1}return!0},getPreviousNodeEndPoint=(e,t)=>{let r=getPreviousNode(e,{at:t});if(r)return getEndPoint(e,r[1])};var last_1=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};let getRangeBefore=(e,t,r)=>{let n=getPointBeforeLocation(e,t,r);if(!n)return;let o=getPoint(e,t,{edge:"end"});return{anchor:n,focus:o}},getRangeFromBlockStart=(e,t={})=>{var r;let n=null===(r=getBlockAbove(e,t))||void 0===r?void 0:r[1];if(!n)return;let o=getStartPoint(e,n),a=getPointFromLocation(e,t);if(a)return{anchor:o,focus:a}},someNode=(e,t)=>!!findNode(e,t),applyDeepToNodes=({node:e,path:t=[],source:r,apply:n,query:o})=>{let a=[e,t];queryNode(a,o)&&(r instanceof Function?n(e,r()):n(e,r)),isAncestor(e)&&e.children.forEach((e,a)=>{applyDeepToNodes({node:e,path:t.concat([a]),source:r,apply:n,query:o})})},mergeDeepToNodes=e=>{applyDeepToNodes({...e,apply:eD})},pipeDeserializeHtmlLeaf=(e,t)=>{let r={};return[...e.plugins].reverse().forEach(n=>{let o=pluginDeserializeHtml(e,n,{element:t,deserializeLeaf:!0});o&&(r={...r,...o.node})}),r},htmlElementToLeaf=(e,t)=>{let r=pipeDeserializeHtmlLeaf(e,t);return deserializeHtmlNodeChildren(e,t).reduce((e,t)=>{if(!t)return e;if(isElement(t))Object.keys(r).length&&mergeDeepToNodes({node:t,source:r,query:{filter:([e])=>isText(e)}}),e.push(t);else{let n={...r};isText(t)&&t.text&&Object.keys(n).forEach(e=>{n[e]&&t[e]&&(n[e]=t[e])}),e.push(eB("text",n,t))}return e},[])},isHtmlText=e=>e.nodeType===Node.TEXT_NODE,htmlTextNodeToString=e=>{if(isHtmlText(e))return"\n"===e.nodeValue?null:e.textContent},isHtmlElement=e=>e.nodeType===Node.ELEMENT_NODE,deserializeHtmlNode=e=>t=>{let r=htmlTextNodeToString(t);if(r)return r;if(!isHtmlElement(t))return null;let n=htmlBrToNewLine(t);if(n)return n;let o=htmlBodyToFragment(e,t);if(o)return o;let a=htmlElementToElement(e,t);return a||htmlElementToLeaf(e,t)},deserializeHtmlElement=(e,t)=>deserializeHtmlNode(e)(t),htmlStringToDOMNode=(e,t=!0)=>{let r=document.createElement("body");return r.innerHTML=e,t&&(r.innerHTML=r.innerHTML.replace(/(\r\n|\n|\r|\t)/gm,"")),r},deserializeHtml=(e,{element:t,stripWhitespace:r=!0})=>{"string"==typeof t&&(t=htmlStringToDOMNode(t,r));let n=deserializeHtmlElement(e,t);return normalizeDescendantsToDocumentFragment(e,{descendants:n})},parseHtmlDocument=e=>new DOMParser().parseFromString(e,"text/html");createPluginFactory({key:"deserializeHtml",then:e=>({editor:{insertData:{format:"text/html",getFragment:({data:t})=>{let r=parseHtmlDocument(t);return deserializeHtml(e,{element:r.body})}}}})}),createPluginFactory({key:"prevSelection",handlers:{onKeyDown:e=>t=>{t.persist(),e.currentKeyboardEvent=t}},withOverrides:e=>{let{apply:t}=e;return e.apply=r=>{if("set_selection"===r.type){let{properties:n}=r;e.prevSelection=n,t(r),e.currentKeyboardEvent=null;return}t(r)},e}});let setElements=(e,t,r)=>setNodes(e,t,r);var _arrayEach=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e},tf=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)_arrayPush(t,eH(e)),e=es(e);return t}:stubArray_1,_getAllKeysIn=function(e){return _baseGetAllKeys(e,keysIn_1,tf)},td=Object.prototype.hasOwnProperty,_initCloneArray=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&td.call(e,"index")&&(r.index=e.index,r.input=e.input),r},_cloneDataView=function(e,t){var r=t?_cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)},tp=/\w*$/,_cloneRegExp=function(e){var t=new e.constructor(e.source,tp.exec(e));return t.lastIndex=e.lastIndex,t},ty=x?x.prototype:void 0,th=ty?ty.valueOf:void 0,_initCloneByTag=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return _cloneArrayBuffer(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return _cloneDataView(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return _cloneTypedArray(e,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return _cloneRegExp(e);case"[object Symbol]":return th?Object(th.call(e)):{}}},tg=em&&em.isMap,tb=tg?_baseUnary(tg):function(e){return isObjectLike_1(e)&&"[object Map]"==e8(e)},tv=em&&em.isSet,t_=tv?_baseUnary(tv):function(e){return isObjectLike_1(e)&&"[object Set]"==e8(e)},tm="[object Arguments]",tj="[object Function]",tw="[object Object]",tO={};tO[tm]=tO["[object Array]"]=tO["[object ArrayBuffer]"]=tO["[object DataView]"]=tO["[object Boolean]"]=tO["[object Date]"]=tO["[object Float32Array]"]=tO["[object Float64Array]"]=tO["[object Int8Array]"]=tO["[object Int16Array]"]=tO["[object Int32Array]"]=tO["[object Map]"]=tO["[object Number]"]=tO[tw]=tO["[object RegExp]"]=tO["[object Set]"]=tO["[object String]"]=tO["[object Symbol]"]=tO["[object Uint8Array]"]=tO["[object Uint8ClampedArray]"]=tO["[object Uint16Array]"]=tO["[object Uint32Array]"]=!0,tO["[object Error]"]=tO[tj]=tO["[object WeakMap]"]=!1;var _baseClone=function baseClone(e,t,r,n,o,a){var i,s=1&t,c=2&t,l=4&t;if(r&&(i=o?r(e,n,o,a):r(e)),void 0!==i)return i;if(!isObject_1(e))return e;var u=ep(e);if(u){if(i=_initCloneArray(e),!s)return _copyArray(e,i)}else{var f,d,p,y,h=e8(e),g=h==tj||"[object GeneratorFunction]"==h;if(ey(e))return en(e,s);if(h==tw||h==tm||g&&!o){if(i=c||g?{}:_initCloneObject(e),!s)return c?(d=(f=i)&&_copyObject(e,keysIn_1(e),f),_copyObject(e,tf(e),d)):(y=(p=i)&&_copyObject(e,keys_1(e),p),_copyObject(e,eH(e),y))}else{if(!tO[h])return o?e:{};i=_initCloneByTag(e,h,s)}}a||(a=new Stack);var b=a.get(e);if(b)return b;a.set(e,i),t_(e)?e.forEach(function(n){i.add(baseClone(n,t,r,n,e,a))}):tb(e)&&e.forEach(function(n,o){i.set(o,baseClone(n,t,r,o,e,a))});var v=l?c?_getAllKeysIn:_getAllKeys:c?keysIn_1:keys_1,_=u?void 0:v(e);return _arrayEach(_||e,function(n,o){_&&(n=e[o=n]),_assignValue(i,o,baseClone(n,t,r,o,e,a))}),i},_baseSlice=function(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(o);++n<o;)a[n]=e[n+t];return a},_baseUnset=function(e,t){var r,n;return t=_castPath(t,e),r=e,null==(e=(n=t).length<2?r:_baseGet(r,_baseSlice(n,0,-1)))||delete e[_toKey(last_1(t))]},_customOmitClone=function(e){return isPlainObject_1(e)?void 0:e},tk=x?x.isConcatSpreadable:void 0,_isFlattenable=function(e){return ep(e)||ed(e)||!!(tk&&e&&e[tk])},_baseFlatten=function baseFlatten(e,t,r,n,o){var a=-1,i=e.length;for(r||(r=_isFlattenable),o||(o=[]);++a<i;){var s=e[a];t>0&&r(s)?t>1?baseFlatten(s,t-1,r,n,o):_arrayPush(o,s):n||(o[o.length]=s)}return o};Q(_overRest(u=function(e,t){var r={};if(null==e)return r;var n=!1;t=_arrayMap(t,function(t){return t=_castPath(t,e),n||(n=t.length>1),t}),_copyObject(e,_getAllKeysIn(e),r),n&&(r=_baseClone(r,7,_customOmitClone));for(var o=t.length;o--;)_baseUnset(r,t[o]);return r},void 0,function(e){return(null==e?0:e.length)?_baseFlatten(e,1):[]}),u+"");let tA=Symbol("plate"),tS=Symbol("global-plate"),tE=(0,f.cn)(tA),usePlateId=()=>(0,f.KO)(tE,tS)[0],{plateStore:tP,usePlateStore:tN}=(({decorate:e=null,editor:t=null,id:r,isRendered:n=!1,keyDecorate:o="1",keyEditor:a="1",keySelection:i="1",onChange:s=null,plugins:c=[],rawPlugins:l=[],readOnly:u=!1,renderElement:f=null,renderLeaf:d=null,value:p=null,...y}={})=>{let h=createAtomStore({decorate:e,editor:t,id:r,isRendered:n,keyDecorate:o,keyEditor:a,keySelection:i,onChange:s,plugins:c,rawPlugins:l,readOnly:u,renderElement:f,renderLeaf:d,value:p,...y},{scope:tA,name:"plate"});return{plateStore:h.plateStore,usePlateStore:e=>{let t=usePlateId();return isDefined(e)||h.usePlateStore(e).get.id(e)?h.usePlateStore(e):h.usePlateStore(t)}}})(),usePlateSelectors=e=>tN(e).get,usePlateEditorRef=e=>usePlateSelectors(e).editor(),usePlateSelection=e=>(usePlateSelectors(e).keySelection(),usePlateEditorRef(e).selection),setRef=(e,t)=>{"function"==typeof e?e(t):null!=e&&(e.current=t)},composeRefs=(...e)=>t=>e.forEach(e=>setRef(e,t)),useComposedRef=(...e)=>(0,d.useCallback)(composeRefs(...e),e),canUsePassiveEvents=()=>{if("undefined"==typeof window||"function"!=typeof window.addEventListener)return!1;let e=!1,t=Object.defineProperty({},"passive",{get(){e=!0}}),noop=()=>null;return window.addEventListener("test",noop,t),window.removeEventListener("test",noop,t),e},tC="ignore-onclickoutside",checkClass=(e,t)=>{var r;return null===(r=e.classList)||void 0===r?void 0:r.contains(t)},hasIgnoreClass=(e,t)=>{let r=e.target||e;for(;r;){if(Array.isArray(t)){if(t.some(e=>checkClass(r,e)))return!0}else if(checkClass(r,t))return!0;r=r.parentElement}return!1},clickedOnScrollbar=e=>document.documentElement.clientWidth<=e.clientX||document.documentElement.clientHeight<=e.clientY,getEventOptions=e=>!!(e.includes("touch")&&canUsePassiveEvents())&&{passive:!0},useOnClickOutside=(e,{refs:t,disabled:r,eventTypes:n=["mousedown","touchstart"],excludeScrollbar:o,ignoreClass:a=tC,detectIFrame:i=!0}={})=>{let[s,c]=(0,d.useState)([]),l=(0,d.useRef)(e);l.current=e;let u=(0,d.useCallback)(e=>c(t=>[...t,{current:e}]),[]);return(0,d.useEffect)(()=>{if(!(null!=t&&t.length)&&!s.length)return;let getEls=()=>{let e=[];return(t||s).forEach(({current:t})=>t&&e.push(t)),e},handler=e=>{!hasIgnoreClass(e,a)&&!(o&&clickedOnScrollbar(e))&&getEls().every(t=>!t.contains(e.target))&&l.current(e)},blurHandler=e=>setTimeout(()=>{let{activeElement:t}=document;(null==t?void 0:t.tagName)!=="IFRAME"||hasIgnoreClass(t,a)||getEls().includes(t)||l.current(e)},0),removeEventListener=()=>{n.forEach(e=>document.removeEventListener(e,handler,getEventOptions(e))),i&&window.removeEventListener("blur",blurHandler)};if(r){removeEventListener();return}return n.forEach(e=>document.addEventListener(e,handler,getEventOptions(e))),i&&window.addEventListener("blur",blurHandler),()=>removeEventListener()},[s,a,o,r,i,JSON.stringify(n)]),u},useElementProps=({attributes:e,nodeProps:t,element:r,editor:n,elementToAttributes:o,...a})=>{var i;let s={...e,...a,...t,...null!==(i=null==o?void 0:o(r))&&void 0!==i?i:{},ref:useComposedRef(a.ref,e.ref)};return s},useEditorRef=()=>(0,p._7)(),createComponentAs=e=>(0,d.forwardRef)(({asChild:t,...r},n)=>{let o=t?v.g7:e;return o({ref:n,...r})}),isRenderProp=e=>"function"==typeof e,createElementAs=(e,t)=>{let r;let{as:n,wrapElement:o,...a}=t;if(n&&"string"!=typeof n)r=d.createElement(n,a);else if(isRenderProp(t.children)){let{children:e,...n}=a;r=t.children(n)}else r=n?d.createElement(n,a):d.createElement(e,a);return o?o(r):r},getPluginOptions=(e,t)=>{var r;return null!==(r=getPlugin(e,t).options)&&void 0!==r?r:{}},mockPlugin=e=>({key:"",type:"",editor:{},inject:{},options:{},...e}),{elementStore:tT,useElementStore:tL}=createAtomStore({element:null},{name:"element"});createComponentAs(e=>createElementAs("div",e));var tx=Object.prototype,tF=tx.hasOwnProperty;_baseRest(function(e,t){e=Object(e);var r=-1,n=t.length,o=n>2?t[2]:void 0;for(o&&_isIterateeCall(t[0],t[1],o)&&(n=1);++r<n;)for(var a=t[r],i=keysIn_1(a),s=-1,c=i.length;++s<c;){var l=i[s],u=e[l];(void 0===u||eq_1(u,tx[l])&&!tF.call(e,l))&&(e[l]=a[l])}return e});let insertElements=(e,t,r)=>insertNodes(e,t,r),removeNodeChildren=(e,t,r)=>{withoutNormalizing(e,()=>{for(let[,n]of getNodeChildren(e,t,{reverse:!0}))removeNodes(e,{...r,at:n})})},replaceNodeChildren=(e,{at:t,nodes:r,insertOptions:n,removeOptions:o})=>{withoutNormalizing(e,()=>{removeNodeChildren(e,t,o),insertNodes(e,r,{...n,at:t.concat([0])})})}}}]);