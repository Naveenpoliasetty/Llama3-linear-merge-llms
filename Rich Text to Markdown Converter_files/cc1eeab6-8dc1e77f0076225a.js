"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[900],{5003:function(e,t,r){r.d(t,{TvR:function(){return createComponentAs},X9_:function(){return createElementAs}});var n,o,a,i,c,s,l,u,f=r(24),d=r(7294),p=r(9251);r(9218);var y=r(4762),h=r(7645),b=r(7493),_=r(1465);let capitalizeFirstLetter=(e="")=>e.length?e[0].toUpperCase()+e.slice(1):"",getStoreIndex=(e="")=>e.length?`${e}Store`:"store",getUseStoreIndex=(e="")=>`use${capitalizeFirstLetter(e)}Store`,createAtomStore=(e,{scope:t,initialStore:r,name:n=""}={})=>{let o=getUseStoreIndex(null==r?void 0:r.name),a=getStoreIndex(null==r?void 0:r.name),i=getUseStoreIndex(n),c=getStoreIndex(n),s=r?r[o]().get:{},l=r?r[o]().set:{},u=r?r[o]().use:{},d=r?r[a].atom:{};Object.keys(e).forEach(r=>{let n=(0,f.cn)(e[r]);d[r]=n,s[r]=e=>(0,f.Dv)(n,null!=e?e:t),l[r]=e=>(0,f.b9)(n,null!=e?e:t),u[r]=e=>(0,f.KO)(n,null!=e?e:t)});let p={[i]:e=>{if(e){let r={...s},n={...l},o={...u};return Object.keys(r).forEach(n=>{let o=r[n];r[n]=r=>{var n;return o(null!==(n=null!=r?r:e)&&void 0!==n?n:t)}}),Object.keys(n).forEach(r=>{let o=n[r];n[r]=r=>{var n;return o(null!==(n=null!=r?r:e)&&void 0!==n?n:t)}}),Object.keys(o).forEach(r=>{let n=o[r];o[r]=r=>{var o;return n(null!==(o=null!=r?r:e)&&void 0!==o?o:t)}}),{get:r,set:n,use:o}}return{get:s,set:l,use:u}},[c]:{atom:d},name:n};return{...p,[c]:{...p[c],scope:t,extend:(e,r)=>createAtomStore(e,{scope:t,initialStore:p,...r})}}},v="undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent);var g="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var m=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});for(var IS_MAC=()=>"undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),r={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},ALIASES=()=>({add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:IS_MAC()?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"}),n={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},o=1;o<20;o++)n["f"+o]=111+o;function isHotkey(e,t,r){!t||"byKey"in t||(r=t,t=null),Array.isArray(e)||(e=[e]);var n=e.map(function(e){return parseHotkey(e,t)}),check=function(e){return n.some(function(t){return compareHotkey(t,e)})};return null==r?check:check(r)}function parseHotkey(e,t){var n=t&&t.byKey,o={},a=(e=e.replace("++","+add")).split("+"),i=a.length;for(var c in r)o[r[c]]=!1;var s=!0,l=!1,u=void 0;try{for(var f,d=a[Symbol.iterator]();!(s=(f=d.next()).done);s=!0){var p=f.value,y=p.endsWith("?")&&p.length>1;y&&(p=p.slice(0,-1));var h=toKeyName(p),b=r[h];1!==i&&b||(n?o.key=h:o.which=toKeyCode(p)),b&&(o[b]=!y||null)}}catch(e){l=!0,u=e}finally{try{!s&&d.return&&d.return()}finally{if(l)throw u}}return o}function compareHotkey(e,t){for(var r in e){var n=e[r],o=void 0;if(null!=n&&(null!=(o="key"===r&&null!=t.key?t.key.toLowerCase():"which"===r?91===n&&93===t.which?91:t.which:t[r])||!1!==n)&&o!==n)return!1}return!0}function toKeyCode(e){return n[e=toKeyName(e)]||e.toUpperCase().charCodeAt(0)}function toKeyName(e){return e=e.toLowerCase(),e=ALIASES()[e]||e}t.default=isHotkey,t.isHotkey=isHotkey,t.isCodeHotkey=function(e,t){return isHotkey(e,t)},t.isKeyHotkey=function(e,t){return isHotkey(e,{byKey:!0},t)},t.parseHotkey=parseHotkey,t.compareHotkey=compareHotkey,t.toKeyCode=toKeyCode,t.toKeyName=toKeyName});m&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")&&m.default,m.isHotkey,m.isCodeHotkey;var j=m.isKeyHotkey;m.parseHotkey,m.compareHotkey,m.toKeyCode,m.toKeyName;let isComposing=e=>p.F3.isComposing(e),w={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",insertSoftBreak:"shift+enter",italic:"mod+i",moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",splitBlock:"enter",tab:"tab",untab:"shift+tab",undo:"mod+z"},O={deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},k={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},create=e=>{let t=w[e],r=O[e],n=k[e],o=t&&j(t),a=r&&j(r),i=n&&j(n);return e=>!!(o&&o(e)||v&&a&&a(e)||!v&&i&&i(e))},createComposing=e=>(t,r,{composing:n}={})=>!!create(e)(r)&&!!n===isComposing(t);create("bold"),create("compose"),create("moveBackward"),create("moveForward"),create("deleteBackward"),create("deleteForward"),create("deleteLineBackward"),create("deleteLineForward"),create("deleteWordBackward"),create("deleteWordForward"),create("extendBackward"),create("extendForward"),create("extendLineBackward"),create("extendLineForward"),create("italic"),create("moveLineBackward"),create("moveLineForward"),create("moveWordBackward"),create("moveWordForward"),create("redo"),create("insertSoftBreak"),create("splitBlock"),createComposing("tab"),create("transposeCharacter"),create("undo"),createComposing("untab");let isUndefined=e=>void 0===e,isNull=e=>null===e,isUndefinedOrNull=e=>isUndefined(e)||isNull(e),isDefined=e=>!isUndefinedOrNull(e);var _apply=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)},identity_1=function(e){return e},A=Math.max,_overRest=function(e,t,r){return t=A(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,a=A(n.length-t,0),i=Array(a);++o<a;)i[o]=n[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=n[o];return c[t]=r(i),_apply(e,this,c)}},S="object"==typeof g&&g&&g.Object===Object&&g,T="object"==typeof self&&self&&self.Object===Object&&self,P=S||T||Function("return this")(),C=P.Symbol,E=Object.prototype,F=E.hasOwnProperty,x=E.toString,D=C?C.toStringTag:void 0,_getRawTag=function(e){var t=F.call(e,D),r=e[D];try{e[D]=void 0;var n=!0}catch(e){}var o=x.call(e);return n&&(t?e[D]=r:delete e[D]),o},z=Object.prototype.toString,L=C?C.toStringTag:void 0,_baseGetTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":L&&L in Object(e)?_getRawTag(e):z.call(e)},isObject_1=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},isFunction_1=function(e){if(!isObject_1(e))return!1;var t=_baseGetTag(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},I=P["__core-js_shared__"],M=(n=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",N=Function.prototype.toString,_toSource=function(e){if(null!=e){try{return N.call(e)}catch(e){}try{return e+""}catch(e){}}return""},B=/^\[object .+?Constructor\]$/,K=Object.prototype,H=Function.prototype.toString,U=K.hasOwnProperty,q=RegExp("^"+H.call(U).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_getNative=function(e,t){var r,n=null==e?void 0:e[t];return isObject_1(r=n)&&(!M||!(M in r))&&(isFunction_1(r)?q:B).test(_toSource(r))?n:void 0},R=function(){try{var e=_getNative(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),V=R?function(e,t){return R(e,"toString",{configurable:!0,enumerable:!1,value:function(){return t},writable:!0})}:identity_1,W=Date.now,$=(o=0,a=0,function(){var e=W(),t=16-(e-a);if(a=e,t>0){if(++o>=800)return arguments[0]}else o=0;return V.apply(void 0,arguments)}),_baseRest=function(e,t){return $(_overRest(e,t,identity_1),e+"")},eq_1=function(e,t){return e===t||e!=e&&t!=t},_assocIndexOf=function(e,t){for(var r=e.length;r--;)if(eq_1(e[r][0],t))return r;return -1},G=Array.prototype.splice;function ListCache(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ListCache.prototype.clear=function(){this.__data__=[],this.size=0},ListCache.prototype.delete=function(e){var t=this.__data__,r=_assocIndexOf(t,e);return!(r<0)&&(r==t.length-1?t.pop():G.call(t,r,1),--this.size,!0)},ListCache.prototype.get=function(e){var t=this.__data__,r=_assocIndexOf(t,e);return r<0?void 0:t[r][1]},ListCache.prototype.has=function(e){return _assocIndexOf(this.__data__,e)>-1},ListCache.prototype.set=function(e,t){var r=this.__data__,n=_assocIndexOf(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};var X=_getNative(P,"Map"),J=_getNative(Object,"create"),Q=Object.prototype.hasOwnProperty,Y=Object.prototype.hasOwnProperty;function Hash(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Hash.prototype.clear=function(){this.__data__=J?J(null):{},this.size=0},Hash.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hash.prototype.get=function(e){var t=this.__data__;if(J){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Q.call(t,e)?t[e]:void 0},Hash.prototype.has=function(e){var t=this.__data__;return J?void 0!==t[e]:Y.call(t,e)},Hash.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=J&&void 0===t?"__lodash_hash_undefined__":t,this};var _isKeyable=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},_getMapData=function(e,t){var r=e.__data__;return _isKeyable(t)?r["string"==typeof t?"string":"hash"]:r.map};function MapCache(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Stack(e){var t=this.__data__=new ListCache(e);this.size=t.size}MapCache.prototype.clear=function(){this.size=0,this.__data__={hash:new Hash,map:new(X||ListCache),string:new Hash}},MapCache.prototype.delete=function(e){var t=_getMapData(this,e).delete(e);return this.size-=t?1:0,t},MapCache.prototype.get=function(e){return _getMapData(this,e).get(e)},MapCache.prototype.has=function(e){return _getMapData(this,e).has(e)},MapCache.prototype.set=function(e,t){var r=_getMapData(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Stack.prototype.clear=function(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Stack.prototype.get=function(e){return this.__data__.get(e)},Stack.prototype.has=function(e){return this.__data__.has(e)},Stack.prototype.set=function(e,t){var r=this.__data__;if(r instanceof ListCache){var n=r.__data__;if(!X||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new MapCache(n)}return r.set(e,t),this.size=r.size,this};var _baseAssignValue=function(e,t,r){"__proto__"==t&&R?R(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},_assignMergeValue=function(e,t,r){(void 0===r||eq_1(e[t],r))&&(void 0!==r||t in e)||_baseAssignValue(e,t,r)},_baseFor=function(e,t,r){for(var n=-1,o=Object(e),a=r(e),i=a.length;i--;){var c=a[++n];if(!1===t(o[c],c,o))break}return e},Z=createCommonjsModule(function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,o=n&&n.exports===r?P.Buffer:void 0,a=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=a?a(r):new e.constructor(r);return e.copy(n),n}}),ee=P.Uint8Array,_cloneArrayBuffer=function(e){var t=new e.constructor(e.byteLength);return new ee(t).set(new ee(e)),t},_cloneTypedArray=function(e,t){var r=t?_cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)},_copyArray=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t},et=Object.create,er=function(){function object(){}return function(e){if(!isObject_1(e))return{};if(et)return et(e);object.prototype=e;var t=new object;return object.prototype=void 0,t}}(),_overArg=function(e,t){return function(r){return e(t(r))}},en=_overArg(Object.getPrototypeOf,Object),eo=Object.prototype,_isPrototype=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||eo)},_initCloneObject=function(e){return"function"!=typeof e.constructor||_isPrototype(e)?{}:er(en(e))},isObjectLike_1=function(e){return null!=e&&"object"==typeof e},_baseIsArguments=function(e){return isObjectLike_1(e)&&"[object Arguments]"==_baseGetTag(e)},ea=Object.prototype,ei=ea.hasOwnProperty,ec=ea.propertyIsEnumerable,es=_baseIsArguments(function(){return arguments}())?_baseIsArguments:function(e){return isObjectLike_1(e)&&ei.call(e,"callee")&&!ec.call(e,"callee")},el=Array.isArray,isLength_1=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},isArrayLike_1=function(e){return null!=e&&isLength_1(e.length)&&!isFunction_1(e)},stubFalse_1=function(){return!1},eu=createCommonjsModule(function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,o=n&&n.exports===r?P.Buffer:void 0,a=o?o.isBuffer:void 0;e.exports=a||stubFalse_1}),ef=Object.prototype,ed=Function.prototype.toString,ep=ef.hasOwnProperty,ey=ed.call(Object),isPlainObject_1=function(e){if(!isObjectLike_1(e)||"[object Object]"!=_baseGetTag(e))return!1;var t=en(e);if(null===t)return!0;var r=ep.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&ed.call(r)==ey},eh={};eh["[object Float32Array]"]=eh["[object Float64Array]"]=eh["[object Int8Array]"]=eh["[object Int16Array]"]=eh["[object Int32Array]"]=eh["[object Uint8Array]"]=eh["[object Uint8ClampedArray]"]=eh["[object Uint16Array]"]=eh["[object Uint32Array]"]=!0,eh["[object Arguments]"]=eh["[object Array]"]=eh["[object ArrayBuffer]"]=eh["[object Boolean]"]=eh["[object DataView]"]=eh["[object Date]"]=eh["[object Error]"]=eh["[object Function]"]=eh["[object Map]"]=eh["[object Number]"]=eh["[object Object]"]=eh["[object RegExp]"]=eh["[object Set]"]=eh["[object String]"]=eh["[object WeakMap]"]=!1;var _baseUnary=function(e){return function(t){return e(t)}},eb=createCommonjsModule(function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,o=n&&n.exports===r&&S.process,a=function(){try{var e=n&&n.require&&n.require("util").types;if(e)return e;return o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=a}),e_=eb&&eb.isTypedArray,ev=e_?_baseUnary(e_):function(e){return isObjectLike_1(e)&&isLength_1(e.length)&&!!eh[_baseGetTag(e)]},_safeGet=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},eg=Object.prototype.hasOwnProperty,_assignValue=function(e,t,r){var n=e[t];eg.call(e,t)&&eq_1(n,r)&&(void 0!==r||t in e)||_baseAssignValue(e,t,r)},_copyObject=function(e,t,r,n){var o=!r;r||(r={});for(var a=-1,i=t.length;++a<i;){var c=t[a],s=n?n(r[c],e[c],c,r,e):void 0;void 0===s&&(s=e[c]),o?_baseAssignValue(r,c,s):_assignValue(r,c,s)}return r},_baseTimes=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n},em=/^(?:0|[1-9]\d*)$/,_isIndex=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&em.test(e))&&e>-1&&e%1==0&&e<t},ej=Object.prototype.hasOwnProperty,_arrayLikeKeys=function(e,t){var r=el(e),n=!r&&es(e),o=!r&&!n&&eu(e),a=!r&&!n&&!o&&ev(e),i=r||n||o||a,c=i?_baseTimes(e.length,String):[],s=c.length;for(var l in e)(t||ej.call(e,l))&&!(i&&("length"==l||o&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||_isIndex(l,s)))&&c.push(l);return c},_nativeKeysIn=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t},ew=Object.prototype.hasOwnProperty,_baseKeysIn=function(e){if(!isObject_1(e))return _nativeKeysIn(e);var t=_isPrototype(e),r=[];for(var n in e)"constructor"==n&&(t||!ew.call(e,n))||r.push(n);return r},keysIn_1=function(e){return isArrayLike_1(e)?_arrayLikeKeys(e,!0):_baseKeysIn(e)},_baseMergeDeep=function(e,t,r,n,o,a,i){var c=_safeGet(e,r),s=_safeGet(t,r),l=i.get(s);if(l){_assignMergeValue(e,r,l);return}var u=a?a(c,s,r+"",e,t,i):void 0,f=void 0===u;if(f){var d=el(s),p=!d&&eu(s),y=!d&&!p&&ev(s);(u=s,d||p||y)?el(c)?u=c:isObjectLike_1(c)&&isArrayLike_1(c)?u=_copyArray(c):p?(f=!1,u=Z(s,!0)):y?(f=!1,u=_cloneTypedArray(s,!0)):u=[]:isPlainObject_1(s)||es(s)?(u=c,es(c))?u=_copyObject(c,keysIn_1(c)):(!isObject_1(c)||isFunction_1(c))&&(u=_initCloneObject(s)):f=!1}f&&(i.set(s,u),o(u,s,n,a,i),i.delete(s)),_assignMergeValue(e,r,u)},_baseMerge=function baseMerge(e,t,r,n,o){e!==t&&_baseFor(t,function(a,i){if(o||(o=new Stack),isObject_1(a))_baseMergeDeep(e,t,i,r,baseMerge,n,o);else{var c=n?n(_safeGet(e,i),a,i+"",e,t,o):void 0;void 0===c&&(c=a),_assignMergeValue(e,i,c)}},keysIn_1)},_customDefaultsMerge=function customDefaultsMerge(e,t,r,n,o,a){return isObject_1(e)&&isObject_1(t)&&(a.set(t,e),_baseMerge(e,t,void 0,customDefaultsMerge,a),a.delete(t)),e},_isIterateeCall=function(e,t,r){if(!isObject_1(r))return!1;var n=typeof t;return("number"==n?!!(isArrayLike_1(r)&&_isIndex(t,r.length)):"string"==n&&t in r)&&eq_1(r[t],e)},_createAssigner=function(e){return _baseRest(function(t,r){var n=-1,o=r.length,a=o>1?r[o-1]:void 0,i=o>2?r[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,i&&_isIterateeCall(r[0],r[1],i)&&(a=o<3?void 0:a,o=1),t=Object(t);++n<o;){var c=r[n];c&&e(t,c,n,a)}return t})},eO=_createAssigner(function(e,t,r,n){_baseMerge(e,t,r,n)}),ek=_baseRest(function(e){return e.push(void 0,_customDefaultsMerge),_apply(eO,void 0,e)});let overridePluginsByKey=(e,t={},r)=>{var n;if(t[e.key]){let{plugins:n,then:o,...a}=t[e.key];e=ek(a,e),r||null==n||n.forEach(t=>{e.plugins||(e.plugins=[]);let r=e.plugins.find(e=>e.key===t.key);r||e.plugins.push(t)})}e.plugins&&(e.plugins=e.plugins.map(e=>overridePluginsByKey(e,t,!0)));let{then:o}=e;return o?e.then=(r,n)=>{let a={key:e.key,...o(r,n)};return ek(overridePluginsByKey(a,t),a)}:null!==(n=t[e.key])&&void 0!==n&&n.then&&(e.then=t[e.key].then),e},createPluginFactory=e=>(t,r={})=>(r[e.key]=t,overridePluginsByKey({...e},r));createPluginFactory({key:"deserializeAst",editor:{insertData:{format:"application/x-slate-fragment",getFragment:({data:e})=>{let t=decodeURIComponent(window.atob(e));return JSON.parse(t)}}}});let eA=(0,y.MT)("event-editor")({blur:null,focus:null,last:null}),eS=eA.set,eT=eA.get;eA.use,createPluginFactory({key:"event-editor",handlers:{onFocus:e=>()=>{eS.focus(e.id)},onBlur:e=>()=>{let t=eT.focus();t===e.id&&eS.focus(null),eS.blur(e.id)}}}),createPluginFactory({key:"history",withOverrides:e=>(0,h.VC)(e)}),createPluginFactory({key:"inline-void",withOverrides:e=>{let{isInline:t}=e,{isVoid:r}=e,n=[],o=[];return e.plugins.forEach(e=>{e.isInline&&n.push(e.type),e.isVoid&&o.push(e.type)}),e.isInline=e=>!!n.includes(e.type)||t(e),e.isVoid=e=>!!o.includes(e.type)||r(e),e}});let getInjectedPlugins=(e,t)=>{let r=[];return[...e.plugins].reverse().forEach(e=>{var n;let o=null===(n=e.inject.pluginsByKey)||void 0===n?void 0:n[t.key];o&&r.push(o)}),[t,...r]},pipeInsertDataQuery=(e,{data:t,dataTransfer:r})=>e.every(e=>{var n,o;let a=null===(n=e.editor)||void 0===n?void 0:null===(o=n.insertData)||void 0===o?void 0:o.query;return!a||a({data:t,dataTransfer:r})}),withoutNormalizing=(e,t)=>{let r=!1;return b.ML.withoutNormalizing(e,()=>{r=!!t()}),r},pipeInsertFragment=(e,t,{fragment:r,...n})=>{withoutNormalizing(e,()=>{t.some(e=>{var t,o,a;return(null===(t=e.editor)||void 0===t?void 0:null===(o=t.insertData)||void 0===o?void 0:null===(a=o.preInsert)||void 0===a?void 0:a.call(o,r,n))===!0}),e.insertFragment(r)})},pipeTransformData=(e,{data:t,dataTransfer:r})=>(e.forEach(e=>{var n,o;let a=null===(n=e.editor)||void 0===n?void 0:null===(o=n.insertData)||void 0===o?void 0:o.transformData;a&&(t=a(t,{dataTransfer:r}))}),t),pipeTransformFragment=(e,{fragment:t,...r})=>(e.forEach(e=>{var n,o;let a=null===(n=e.editor)||void 0===n?void 0:null===(o=n.insertData)||void 0===o?void 0:o.transformFragment;a&&(t=a(t,r))}),t);createPluginFactory({key:"insertData",withOverrides:e=>{let{insertData:t}=e;return e.insertData=r=>{let n=[...e.plugins].reverse().some(t=>{var n;let o=t.editor.insertData;if(!o)return!1;let a=getInjectedPlugins(e,t),{format:i,getFragment:c}=o;if(!i)return!1;let s=r.getData(i);if(!s)return;if(!pipeInsertDataQuery(a,{data:s,dataTransfer:r}))return!1;s=pipeTransformData(a,{data:s,dataTransfer:r});let l=null==c?void 0:c({data:s,dataTransfer:r});return null!==(n=l)&&void 0!==n&&!!n.length&&!!(l=pipeTransformFragment(a,{fragment:l,data:s,dataTransfer:r})).length&&(pipeInsertFragment(e,a,{fragment:l,data:s,dataTransfer:r}),!0)});n||t(r)},e}}),createPluginFactory({key:"nodeFactory",withOverrides:e=>(e.blockFactory=t=>({type:getPluginType(e,"p"),children:[{text:""}],...t}),e.childrenFactory=()=>[e.blockFactory()],e)}),createPluginFactory({key:"react",withOverrides:e=>(0,p.BU)(e)});let isElement=e=>b.W_.isElement(e),isText=e=>b.xv.isText(e),getPluginsByKey=e=>{var t;return null!==(t=null==e?void 0:e.pluginsByKey)&&void 0!==t?t:{}},getPlugin=(e,t)=>{var r;return null!==(r=getPluginsByKey(e)[t])&&void 0!==r?r:{key:t}},getPluginType=(e,t)=>{var r,n;return null!==(r=null!==(n=getPlugin(e,t).type)&&void 0!==n?n:t)&&void 0!==r?r:""},isInlineNode=e=>t=>isText(t)||isElement(t)&&e.isInline(t),makeBlockLazy=e=>()=>({type:e,children:[]}),hasDifferentChildNodes=(e,t)=>e.some((e,r,n)=>{let o=n[r-1];return 0!==r&&t(e)!==t(o)}),normalizeDifferentNodeTypes=(e,t,r)=>{let n=hasDifferentChildNodes(e,t),{fragment:o}=e.reduce((e,o)=>{if(n&&t(o)){let t=e.precedingBlock;t||(t=r(),e.precedingBlock=t,e.fragment.push(t)),t.children.push(o)}else e.fragment.push(o),e.precedingBlock=null;return e},{fragment:[],precedingBlock:null});return o},normalizeEmptyChildren=e=>e.length?e:[{text:""}],normalize=(e,t,r)=>e=(e=normalizeDifferentNodeTypes(e=normalizeEmptyChildren(e),t,r)).map(e=>isElement(e)?{...e,children:normalize(e.children,t,r)}:e),normalizeDescendantsToDocumentFragment=(e,{descendants:t})=>{let r=isInlineNode(e),n=getPluginType(e,"p"),o=makeBlockLazy(n);return normalize(t,r,o)};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function isObject(e){return"[object Object]"===Object.prototype.toString.call(e)}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var eP=new WeakMap,eC=new WeakMap;let Token=class Token{};let AnchorToken=class AnchorToken extends Token{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super();var{offset:t,path:r}=e;this.offset=t,this.path=r}};let FocusToken=class FocusToken extends Token{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super();var{offset:t,path:r}=e;this.offset=t,this.path=r}};var addAnchorToken=(e,t)=>{var r=e.text.length;eP.set(e,[r,t])},getAnchorOffset=e=>eP.get(e),addFocusToken=(e,t)=>{var r=e.text.length;eC.set(e,[r,t])},getFocusOffset=e=>eC.get(e);function ownKeys$1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread$1(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$1(Object(r),!0).forEach(function(t){_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$1(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var eE=new WeakSet,resolveDescendants=e=>{var t=[],addChild=e=>{if(null!=e){var r=t[t.length-1];if("string"==typeof e){var n={text:e};eE.add(n),e=n}if(b.xv.isText(e)){var o=e;b.xv.isText(r)&&eE.has(r)&&eE.has(o)&&b.xv.equals(r,o,{loose:!0})?r.text+=o.text:t.push(o)}else if(b.W_.isElement(e))t.push(e);else if(e instanceof Token){var a=t[t.length-1];b.xv.isText(a)||(addChild(""),a=t[t.length-1]),e instanceof AnchorToken?addAnchorToken(a,e):e instanceof FocusToken&&addFocusToken(a,e)}else throw Error("Unexpected hyperscript child object: ".concat(e))}};for(var r of e.flat(1/0))addChild(r);return t};function createElement(e,t,r){return _objectSpread$1(_objectSpread$1({},t),{},{children:resolveDescendants(r)})}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var eF={anchor:function(e,t,r){return new AnchorToken(t)},cursor:function(e,t,r){return[new AnchorToken(t),new FocusToken(t)]},editor:(i=b.Jh,(e,t,r)=>{var n,o=[];for(var a of r)b.e6.isRange(a)?n=a:o.push(a);var c=resolveDescendants(o),s={},l=i();for(var[u,f]of(Object.assign(l,t),l.children=c,b.NB.texts(l))){var d=getAnchorOffset(u),p=getFocusOffset(u);if(null!=d){var[y]=d;s.anchor={path:f,offset:y}}if(null!=p){var[h]=p;s.focus={path:f,offset:h}}}if(s.anchor&&!s.focus)throw Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<anchor />`. For collapsed selections, use `<cursor />` instead.");if(!s.anchor&&s.focus)throw Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<focus />`. For collapsed selections, use `<cursor />` instead.");return null!=n?l.selection=n:b.e6.isRange(s)&&(l.selection=s),l}),element:createElement,focus:function(e,t,r){return new FocusToken(t)},fragment:function(e,t,r){return resolveDescendants(r)},selection:function(e,t,r){var n=r.find(e=>e instanceof AnchorToken),o=r.find(e=>e instanceof FocusToken);if(!n||null==n.offset||null==n.path)throw Error("The <selection> hyperscript tag must have an <anchor> tag as a child with `path` and `offset` attributes defined.");if(!o||null==o.offset||null==o.path)throw Error("The <selection> hyperscript tag must have a <focus> tag as a child with `path` and `offset` attributes defined.");return _objectSpread$1({anchor:{offset:n.offset,path:n.path},focus:{offset:o.offset,path:o.path}},t)},text:function(e,t,r){var n=resolveDescendants(r);if(n.length>1)throw Error("The <text> hyperscript tag must only contain a single node's worth of children.");var[o]=n;if(null==o&&(o={text:""}),!b.xv.isText(o))throw Error("\n    The <text> hyperscript tag can only contain text content as children.");return eE.delete(o),Object.assign(o,t),o}},createFactory=e=>function(t,r){for(var n,o,a,i=arguments.length,c=Array(i>2?i-2:0),s=2;s<i;s++)c[s-2]=arguments[s];var l=e[t];if(!l)throw Error("No hyperscript creator found for tag: <".concat(t,">"));return null==r&&(r={}),!1!==isObject(n=r)&&(void 0===(o=n.constructor)||!1!==isObject(a=o.prototype)&&!1!==a.hasOwnProperty("isPrototypeOf"))||(c=[r].concat(c),r={}),l(t,r,c=c.filter(e=>!!e).flat())},normalizeElements=e=>{var t={};for(var r in e)!function(r){var n=e[r];if("object"!=typeof n)throw Error("Properties specified for a hyperscript shorthand should be an object, but for the custom element <".concat(r,">  tag you passed: ").concat(n));t[r]=(e,t,r)=>createElement("element",_objectSpread(_objectSpread({},n),t),r)}(r);return t},ex=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{elements:t={}}=e,r=normalizeElements(t);return createFactory(_objectSpread(_objectSpread(_objectSpread({},eF),r),e.creators))}();let deserializeHtmlNodeChildren=(e,t)=>Array.from(t.childNodes).map(deserializeHtmlNode(e)).flat(),htmlBodyToFragment=(e,t)=>{if("BODY"===t.nodeName)return ex("fragment",{},deserializeHtmlNodeChildren(e,t))},htmlBrToNewLine=e=>{if("BR"===e.nodeName)return"\n"};var castArray_1=function(){if(!arguments.length)return[];var e=arguments[0];return el(e)?e:[e]};let pluginDeserializeHtml=(e,t,{element:r,deserializeLeaf:n})=>{var o;let{deserializeHtml:a,isElement:i,isLeaf:c,type:s}=t;if(!a)return;let{attributeNames:l,query:u,isLeaf:f,isElement:d,rules:p}=a,{getNode:y}=a,h=d||i,b=f||c;if(!n&&!h||n&&!b)return;if(p){let e=p.some(({validNodeName:e="*",validStyle:n,validClassName:o,validAttribute:a})=>{if(e){let t=castArray_1(e);if(t.length&&!t.includes(r.nodeName)&&"*"!==e)return!1}if(o&&!r.classList.contains(o))return!1;if(n)for(let[e,o]of Object.entries(n)){var i;let n=castArray_1(o);if(!n.includes(r.style[e])&&"*"!==o||"*"===o&&!r.style[e])return;let a=null===(i=t.inject.props)||void 0===i?void 0:i.defaultNodeValue;if(a&&a===r.style[e])return!1}if(a){if("string"==typeof a){if(!r.getAttributeNames().includes(a))return!1}else for(let[e,t]of Object.entries(a)){let n=castArray_1(t),o=r.getAttribute(e);if(!o||!n.includes(o))return!1}}return!0});if(!e)return}if(u&&!u(r))return;if(!y){if(h)y=()=>({type:s});else{if(!b)return;y=()=>({[s]:!0})}}let _=null!==(o=y(r,{}))&&void 0!==o?o:{};if(!Object.keys(_).length)return;let v=getInjectedPlugins(e,t);if(v.forEach(e=>{var t,n;let o=null===(t=e.deserializeHtml)||void 0===t?void 0:null===(n=t.getNode)||void 0===n?void 0:n.call(t,r,_);o&&(_={..._,...o})}),l){let e={},t=r.getAttributeNames();for(let n of t)l.includes(n)&&(e[n]=r.getAttribute(n));Object.keys(e).length&&(_.attributes=e)}return{...a,node:_}},pipeDeserializeHtmlElement=(e,t)=>{let r;return[...e.plugins].reverse().some(n=>!!(r=pluginDeserializeHtml(e,n,{element:t}))),r},htmlElementToElement=(e,t)=>{let r=pipeDeserializeHtmlElement(e,t);if(r){var n;let{node:o,withoutChildren:a}=r,i=null!==(n=o.children)&&void 0!==n?n:deserializeHtmlNodeChildren(e,t);return(!i.length||a)&&(i=[{text:""}]),ex("element",o,i)}};var eD=_createAssigner(function(e,t,r){_baseMerge(e,t,r)});let isAncestor=e=>b.W_.isAncestor(e);var _arrayMap=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o};function SetCache(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new MapCache;++t<r;)this.add(e[t])}SetCache.prototype.add=SetCache.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},SetCache.prototype.has=function(e){return this.__data__.has(e)};var _arraySome=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1},_equalArrays=function(e,t,r,n,o,a){var i=1&r,c=e.length,s=t.length;if(c!=s&&!(i&&s>c))return!1;var l=a.get(e),u=a.get(t);if(l&&u)return l==t&&u==e;var f=-1,d=!0,p=2&r?new SetCache:void 0;for(a.set(e,t),a.set(t,e);++f<c;){var y=e[f],h=t[f];if(n)var b=i?n(h,y,f,t,e,a):n(y,h,f,e,t,a);if(void 0!==b){if(b)continue;d=!1;break}if(p){if(!_arraySome(t,function(e,t){if(!p.has(t)&&(y===e||o(y,e,r,n,a)))return p.push(t)})){d=!1;break}}else if(!(y===h||o(y,h,r,n,a))){d=!1;break}}return a.delete(e),a.delete(t),d},_mapToArray=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r},_setToArray=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r},ez=C?C.prototype:void 0,eL=ez?ez.valueOf:void 0,_equalByTag=function(e,t,r,n,o,a,i){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!a(new ee(e),new ee(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return eq_1(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var c=_mapToArray;case"[object Set]":var s=1&n;if(c||(c=_setToArray),e.size!=t.size&&!s)break;var l=i.get(e);if(l)return l==t;n|=2,i.set(e,t);var u=_equalArrays(c(e),c(t),n,o,a,i);return i.delete(e),u;case"[object Symbol]":if(eL)return eL.call(e)==eL.call(t)}return!1},_arrayPush=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e},_baseGetAllKeys=function(e,t,r){var n=t(e);return el(e)?n:_arrayPush(n,r(e))},_arrayFilter=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,a=[];++r<n;){var i=e[r];t(i,r,e)&&(a[o++]=i)}return a},stubArray_1=function(){return[]},eI=Object.prototype.propertyIsEnumerable,eM=Object.getOwnPropertySymbols,eN=eM?function(e){return null==e?[]:_arrayFilter(eM(e=Object(e)),function(t){return eI.call(e,t)})}:stubArray_1,eB=_overArg(Object.keys,Object),eK=Object.prototype.hasOwnProperty,_baseKeys=function(e){if(!_isPrototype(e))return eB(e);var t=[];for(var r in Object(e))eK.call(e,r)&&"constructor"!=r&&t.push(r);return t},keys_1=function(e){return isArrayLike_1(e)?_arrayLikeKeys(e):_baseKeys(e)},_getAllKeys=function(e){return _baseGetAllKeys(e,keys_1,eN)},eH=Object.prototype.hasOwnProperty,_equalObjects=function(e,t,r,n,o,a){var i=1&r,c=_getAllKeys(e),s=c.length;if(s!=_getAllKeys(t).length&&!i)return!1;for(var l=s;l--;){var u=c[l];if(!(i?u in t:eH.call(t,u)))return!1}var f=a.get(e),d=a.get(t);if(f&&d)return f==t&&d==e;var p=!0;a.set(e,t),a.set(t,e);for(var y=i;++l<s;){var h=e[u=c[l]],b=t[u];if(n)var _=i?n(b,h,u,t,e,a):n(h,b,u,e,t,a);if(!(void 0===_?h===b||o(h,b,r,n,a):_)){p=!1;break}y||(y="constructor"==u)}if(p&&!y){var v=e.constructor,g=t.constructor;v!=g&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof g&&g instanceof g)&&(p=!1)}return a.delete(e),a.delete(t),p},eU=_getNative(P,"DataView"),eq=_getNative(P,"Promise"),eR=_getNative(P,"Set"),eV=_getNative(P,"WeakMap"),eW="[object Map]",e$="[object Promise]",eG="[object Set]",eX="[object WeakMap]",eJ="[object DataView]",eQ=_toSource(eU),eY=_toSource(X),eZ=_toSource(eq),e1=_toSource(eR),e0=_toSource(eV),e2=_baseGetTag;(eU&&e2(new eU(new ArrayBuffer(1)))!=eJ||X&&e2(new X)!=eW||eq&&e2(eq.resolve())!=e$||eR&&e2(new eR)!=eG||eV&&e2(new eV)!=eX)&&(e2=function(e){var t=_baseGetTag(e),r="[object Object]"==t?e.constructor:void 0,n=r?_toSource(r):"";if(n)switch(n){case eQ:return eJ;case eY:return eW;case eZ:return e$;case e1:return eG;case e0:return eX}return t});var e9=e2,e3="[object Arguments]",e4="[object Array]",e6="[object Object]",e8=Object.prototype.hasOwnProperty,_baseIsEqualDeep=function(e,t,r,n,o,a){var i=el(e),c=el(t),s=i?e4:e9(e),l=c?e4:e9(t);s=s==e3?e6:s,l=l==e3?e6:l;var u=s==e6,f=l==e6,d=s==l;if(d&&eu(e)){if(!eu(t))return!1;i=!0,u=!1}if(d&&!u)return a||(a=new Stack),i||ev(e)?_equalArrays(e,t,r,n,o,a):_equalByTag(e,t,s,r,n,o,a);if(!(1&r)){var p=u&&e8.call(e,"__wrapped__"),y=f&&e8.call(t,"__wrapped__");if(p||y){var h=p?e.value():e,b=y?t.value():t;return a||(a=new Stack),o(h,b,r,n,a)}}return!!d&&(a||(a=new Stack),_equalObjects(e,t,r,n,o,a))},_baseIsMatch=function(e,t,r,n){var o=r.length,a=o,i=!n;if(null==e)return!a;for(e=Object(e);o--;){var c=r[o];if(i&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<a;){var s=(c=r[o])[0],l=e[s],u=c[1];if(i&&c[2]){if(void 0===l&&!(s in e))return!1}else{var f=new Stack;if(n)var d=n(l,u,s,e,t,f);if(!(void 0===d?function baseIsEqual(e,t,r,n,o){return e===t||(null!=e&&null!=t&&(isObjectLike_1(e)||isObjectLike_1(t))?_baseIsEqualDeep(e,t,r,n,baseIsEqual,o):e!=e&&t!=t)}(u,l,3,n,f):d))return!1}}return!0},_getMatchData=function(e){for(var t=keys_1(e),r=t.length;r--;){var n,o=t[r],a=e[o];t[r]=[o,a,(n=a)==n&&!isObject_1(n)]}return t},isSymbol_1=function(e){return"symbol"==typeof e||isObjectLike_1(e)&&"[object Symbol]"==_baseGetTag(e)},e7=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,e5=/^\w*$/,_isKey=function(e,t){if(el(e))return!1;var r=typeof e;return!!("number"==r||"symbol"==r||"boolean"==r||null==e||isSymbol_1(e))||e5.test(e)||!e7.test(e)||null!=t&&e in Object(t)};function memoize(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var memoized=function(){var r=arguments,n=t?t.apply(this,r):r[0],o=memoized.cache;if(o.has(n))return o.get(n);var a=e.apply(this,r);return memoized.cache=o.set(n,a)||o,a};return memoized.cache=new(memoize.Cache||MapCache),memoized}memoize.Cache=MapCache;var te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tt=/\\(\\)?/g,tr=(s=(c=memoize(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(te,function(e,r,n,o){t.push(n?o.replace(tt,"$1"):r||e)}),t},function(e){return 500===s.size&&s.clear(),e})).cache,c),tn=1/0,to=C?C.prototype:void 0,ta=to?to.toString:void 0,_baseToString=function baseToString(e){if("string"==typeof e)return e;if(el(e))return _arrayMap(e,baseToString)+"";if(isSymbol_1(e))return ta?ta.call(e):"";var t=e+"";return"0"==t&&1/e==-tn?"-0":t},_castPath=function(e,t){return el(e)?e:_isKey(e,t)?[e]:tr(null==e?"":_baseToString(e))},ti=1/0,_toKey=function(e){if("string"==typeof e||isSymbol_1(e))return e;var t=e+"";return"0"==t&&1/e==-ti?"-0":t},_baseGet=function(e,t){t=_castPath(t,e);for(var r=0,n=t.length;null!=e&&r<n;)e=e[_toKey(t[r++])];return r&&r==n?e:void 0};let queryNode=(e,{filter:t,allow:r,exclude:n,level:o,maxLevel:a}={})=>{if(!e)return!1;let[i,c]=e;if(o){let e=castArray_1(o);if(!e.includes(c.length))return!1}if(a&&c.length>a||t&&!t(e))return!1;if(r){let e=castArray_1(r);if(e.length&&!e.includes(i.type))return!1}if(n){let e=castArray_1(n);if(e.length&&e.includes(i.type))return!1}return!0};var last_1=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};let applyDeepToNodes=({node:e,path:t=[],source:r,apply:n,query:o})=>{let a=[e,t];queryNode(a,o)&&(r instanceof Function?n(e,r()):n(e,r)),isAncestor(e)&&e.children.forEach((e,a)=>{applyDeepToNodes({node:e,path:t.concat([a]),source:r,apply:n,query:o})})},mergeDeepToNodes=e=>{applyDeepToNodes({...e,apply:eD})},pipeDeserializeHtmlLeaf=(e,t)=>{let r={};return[...e.plugins].reverse().forEach(n=>{let o=pluginDeserializeHtml(e,n,{element:t,deserializeLeaf:!0});o&&(r={...r,...o.node})}),r},htmlElementToLeaf=(e,t)=>{let r=pipeDeserializeHtmlLeaf(e,t);return deserializeHtmlNodeChildren(e,t).reduce((e,t)=>{if(!t)return e;if(isElement(t))Object.keys(r).length&&mergeDeepToNodes({node:t,source:r,query:{filter:([e])=>isText(e)}}),e.push(t);else{let n={...r};isText(t)&&t.text&&Object.keys(n).forEach(e=>{n[e]&&t[e]&&(n[e]=t[e])}),e.push(ex("text",n,t))}return e},[])},isHtmlText=e=>e.nodeType===Node.TEXT_NODE,htmlTextNodeToString=e=>{if(isHtmlText(e))return"\n"===e.nodeValue?null:e.textContent},isHtmlElement=e=>e.nodeType===Node.ELEMENT_NODE,deserializeHtmlNode=e=>t=>{let r=htmlTextNodeToString(t);if(r)return r;if(!isHtmlElement(t))return null;let n=htmlBrToNewLine(t);if(n)return n;let o=htmlBodyToFragment(e,t);if(o)return o;let a=htmlElementToElement(e,t);return a||htmlElementToLeaf(e,t)},deserializeHtmlElement=(e,t)=>deserializeHtmlNode(e)(t),htmlStringToDOMNode=(e,t=!0)=>{let r=document.createElement("body");return r.innerHTML=e,t&&(r.innerHTML=r.innerHTML.replace(/(\r\n|\n|\r|\t)/gm,"")),r},deserializeHtml=(e,{element:t,stripWhitespace:r=!0})=>{"string"==typeof t&&(t=htmlStringToDOMNode(t,r));let n=deserializeHtmlElement(e,t);return normalizeDescendantsToDocumentFragment(e,{descendants:n})},parseHtmlDocument=e=>new DOMParser().parseFromString(e,"text/html");createPluginFactory({key:"deserializeHtml",then:e=>({editor:{insertData:{format:"text/html",getFragment:({data:t})=>{let r=parseHtmlDocument(t);return deserializeHtml(e,{element:r.body})}}}})}),createPluginFactory({key:"prevSelection",handlers:{onKeyDown:e=>t=>{t.persist(),e.currentKeyboardEvent=t}},withOverrides:e=>{let{apply:t}=e;return e.apply=r=>{if("set_selection"===r.type){let{properties:n}=r;e.prevSelection=n,t(r),e.currentKeyboardEvent=null;return}t(r)},e}});var _arrayEach=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e},tc=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)_arrayPush(t,eN(e)),e=en(e);return t}:stubArray_1,_getAllKeysIn=function(e){return _baseGetAllKeys(e,keysIn_1,tc)},ts=Object.prototype.hasOwnProperty,_initCloneArray=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&ts.call(e,"index")&&(r.index=e.index,r.input=e.input),r},_cloneDataView=function(e,t){var r=t?_cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)},tl=/\w*$/,_cloneRegExp=function(e){var t=new e.constructor(e.source,tl.exec(e));return t.lastIndex=e.lastIndex,t},tu=C?C.prototype:void 0,tf=tu?tu.valueOf:void 0,_initCloneByTag=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return _cloneArrayBuffer(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return _cloneDataView(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return _cloneTypedArray(e,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return _cloneRegExp(e);case"[object Symbol]":return tf?Object(tf.call(e)):{}}},td=eb&&eb.isMap,tp=td?_baseUnary(td):function(e){return isObjectLike_1(e)&&"[object Map]"==e9(e)},ty=eb&&eb.isSet,th=ty?_baseUnary(ty):function(e){return isObjectLike_1(e)&&"[object Set]"==e9(e)},tb="[object Arguments]",t_="[object Function]",tv="[object Object]",tg={};tg[tb]=tg["[object Array]"]=tg["[object ArrayBuffer]"]=tg["[object DataView]"]=tg["[object Boolean]"]=tg["[object Date]"]=tg["[object Float32Array]"]=tg["[object Float64Array]"]=tg["[object Int8Array]"]=tg["[object Int16Array]"]=tg["[object Int32Array]"]=tg["[object Map]"]=tg["[object Number]"]=tg[tv]=tg["[object RegExp]"]=tg["[object Set]"]=tg["[object String]"]=tg["[object Symbol]"]=tg["[object Uint8Array]"]=tg["[object Uint8ClampedArray]"]=tg["[object Uint16Array]"]=tg["[object Uint32Array]"]=!0,tg["[object Error]"]=tg[t_]=tg["[object WeakMap]"]=!1;var _baseClone=function baseClone(e,t,r,n,o,a){var i,c=1&t,s=2&t,l=4&t;if(r&&(i=o?r(e,n,o,a):r(e)),void 0!==i)return i;if(!isObject_1(e))return e;var u=el(e);if(u){if(i=_initCloneArray(e),!c)return _copyArray(e,i)}else{var f,d,p,y,h=e9(e),b=h==t_||"[object GeneratorFunction]"==h;if(eu(e))return Z(e,c);if(h==tv||h==tb||b&&!o){if(i=s||b?{}:_initCloneObject(e),!c)return s?(d=(f=i)&&_copyObject(e,keysIn_1(e),f),_copyObject(e,tc(e),d)):(y=(p=i)&&_copyObject(e,keys_1(e),p),_copyObject(e,eN(e),y))}else{if(!tg[h])return o?e:{};i=_initCloneByTag(e,h,c)}}a||(a=new Stack);var _=a.get(e);if(_)return _;a.set(e,i),th(e)?e.forEach(function(n){i.add(baseClone(n,t,r,n,e,a))}):tp(e)&&e.forEach(function(n,o){i.set(o,baseClone(n,t,r,o,e,a))});var v=l?s?_getAllKeysIn:_getAllKeys:s?keysIn_1:keys_1,g=u?void 0:v(e);return _arrayEach(g||e,function(n,o){g&&(n=e[o=n]),_assignValue(i,o,baseClone(n,t,r,o,e,a))}),i},_baseSlice=function(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(o);++n<o;)a[n]=e[n+t];return a},_baseUnset=function(e,t){var r,n;return t=_castPath(t,e),r=e,null==(e=(n=t).length<2?r:_baseGet(r,_baseSlice(n,0,-1)))||delete e[_toKey(last_1(t))]},_customOmitClone=function(e){return isPlainObject_1(e)?void 0:e},tm=C?C.isConcatSpreadable:void 0,_isFlattenable=function(e){return el(e)||es(e)||!!(tm&&e&&e[tm])},_baseFlatten=function baseFlatten(e,t,r,n,o){var a=-1,i=e.length;for(r||(r=_isFlattenable),o||(o=[]);++a<i;){var c=e[a];t>0&&r(c)?t>1?baseFlatten(c,t-1,r,n,o):_arrayPush(o,c):n||(o[o.length]=c)}return o};$(_overRest(u=function(e,t){var r={};if(null==e)return r;var n=!1;t=_arrayMap(t,function(t){return t=_castPath(t,e),n||(n=t.length>1),t}),_copyObject(e,_getAllKeysIn(e),r),n&&(r=_baseClone(r,7,_customOmitClone));for(var o=t.length;o--;)_baseUnset(r,t[o]);return r},void 0,function(e){return(null==e?0:e.length)?_baseFlatten(e,1):[]}),u+"");let tj=Symbol("plate"),tw=Symbol("global-plate"),tO=(0,f.cn)(tj),usePlateId=()=>(0,f.KO)(tO,tw)[0],{plateStore:tk,usePlateStore:tA}=(({decorate:e=null,editor:t=null,id:r,isRendered:n=!1,keyDecorate:o="1",keyEditor:a="1",keySelection:i="1",onChange:c=null,plugins:s=[],rawPlugins:l=[],readOnly:u=!1,renderElement:f=null,renderLeaf:d=null,value:p=null,...y}={})=>{let h=createAtomStore({decorate:e,editor:t,id:r,isRendered:n,keyDecorate:o,keyEditor:a,keySelection:i,onChange:c,plugins:s,rawPlugins:l,readOnly:u,renderElement:f,renderLeaf:d,value:p,...y},{scope:tj,name:"plate"});return{plateStore:h.plateStore,usePlateStore:e=>{let t=usePlateId();return isDefined(e)||h.usePlateStore(e).get.id(e)?h.usePlateStore(e):h.usePlateStore(t)}}})(),createComponentAs=e=>(0,d.forwardRef)(({asChild:t,...r},n)=>{let o=t?_.g7:e;return o({ref:n,...r})}),isRenderProp=e=>"function"==typeof e,createElementAs=(e,t)=>{let r;let{as:n,wrapElement:o,...a}=t;if(n&&"string"!=typeof n)r=d.createElement(n,a);else if(isRenderProp(t.children)){let{children:e,...n}=a;r=t.children(n)}else r=n?d.createElement(n,a):d.createElement(e,a);return o?o(r):r},{elementStore:tS,useElementStore:tT}=createAtomStore({element:null},{name:"element"});createComponentAs(e=>createElementAs("div",e));var tP=Object.prototype,tC=tP.hasOwnProperty;_baseRest(function(e,t){e=Object(e);var r=-1,n=t.length,o=n>2?t[2]:void 0;for(o&&_isIterateeCall(t[0],t[1],o)&&(n=1);++r<n;)for(var a=t[r],i=keysIn_1(a),c=-1,s=i.length;++c<s;){var l=i[c],u=e[l];(void 0===u||eq_1(u,tP[l])&&!tC.call(e,l))&&(e[l]=a[l])}return e})}}]);